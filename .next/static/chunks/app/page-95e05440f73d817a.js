(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6053:(e,t,a)=>{Promise.resolve().then(a.bind(a,3992))},3992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var l=a(2860),s=a(3200);let i=0,n=new Map,r=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function u(e){c=o(c,e),d.forEach(e=>{e(c)})}function h(e){let{...t}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||l()}}}),{id:a,dismiss:l,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function g(){let[e,t]=s.useState(c);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:h,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}var x=a(4964),m=a(1073),p=a(2906),b=a(9769),f=a(2460);function k(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.QP)((0,b.$)(t))}let w=x.Kq,N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.LM,{ref:t,className:k("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...s})});N.displayName=x.LM.displayName;let y=(0,m.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),P=s.forwardRef((e,t)=>{let{className:a,variant:s,...i}=e;return(0,l.jsx)(x.bL,{ref:t,className:k(y({variant:s}),a),...i})});P.displayName=x.bL.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.rc,{ref:t,className:k("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...s})}).displayName=x.rc.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.bm,{ref:t,className:k("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...s,children:(0,l.jsx)(p.A,{className:"h-4 w-4"})})});j.displayName=x.bm.displayName;let S=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.hE,{ref:t,className:k("text-sm font-semibold [&+div]:text-xs",a),...s})});S.displayName=x.hE.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.VY,{ref:t,className:k("text-sm opacity-90",a),...s})});function E(){let{toasts:e}=g();return(0,l.jsxs)(w,{children:[e.map(function(e){let{id:t,title:a,description:s,action:i,...n}=e;return(0,l.jsxs)(P,{...n,children:[(0,l.jsxs)("div",{className:"grid gap-1",children:[a&&(0,l.jsx)(S,{children:a}),s&&(0,l.jsx)(v,{children:s})]}),i,(0,l.jsx)(j,{})]},t)}),(0,l.jsx)(N,{})]})}v.displayName=x.VY.displayName;let I=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,l.jsx)("input",{type:s,className:k("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});function W(e){let{entries:t,onChange:a,palletType:s,preferredId:i=null,onSetPreferred:n,stackableEnabled:r=!1}=e,o=e=>{e===i&&n&&n(null),a(t.filter(t=>t.id!==e))},d=(e,l,s)=>{a(t.map(t=>{if(t.id===e){let a="quantity"===l?parseInt(s,10)||0:t.quantity,r="weight"===l?s:t.weight;return 0===a&&e===i&&n&&n(null),{...t,quantity:a,weight:r}}return t}))},c=(e,l)=>{a(t.map(t=>t.id===e?{...t,stackable:l}:t))};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("label",{className:"w-20 text-center text-xs font-semibold text-slate-600",children:"Anzahl"}),(0,l.jsxs)("label",{className:"w-32 text-center text-xs font-semibold text-slate-600",children:["Gewicht/",s," (kg)"]}),r&&(0,l.jsx)("span",{className:"text-xs font-semibold text-slate-600",children:"Stapelbar"})]}),t.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-2 rounded-2xl border border-white/30 bg-white/10 px-3 py-2 backdrop-blur-xl shadow-[0_18px_36px_-28px_rgba(15,23,42,0.45)]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none",onClick:()=>d(e.id,"quantity",String(Math.max(0,e.quantity-1))),"aria-label":"Menge reduzieren",children:"âˆ’"}),(0,l.jsx)(I,{type:"number",min:"0",value:e.quantity,onChange:t=>d(e.id,"quantity",t.target.value),placeholder:"Anzahl",className:"w-16 text-center font-semibold"}),(0,l.jsx)("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none",onClick:()=>d(e.id,"quantity",String(e.quantity+1)),"aria-label":"Menge erh\xf6hen",children:"+"})]}),(0,l.jsx)(I,{type:"number",min:"0",value:e.weight,onChange:t=>d(e.id,"weight",t.target.value),placeholder:"Gewicht/".concat(s),className:"w-32 text-center font-semibold"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,l.jsx)("label",{className:"flex items-center gap-1 text-xs text-slate-700",children:(0,l.jsx)("input",{type:"checkbox",checked:!!e.stackable,onChange:t=>c(e.id,t.target.checked),className:"h-4 w-4"})}),t.length>1&&(0,l.jsx)("button",{type:"button",onClick:()=>o(e.id),className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none","aria-label":"Gruppe entfernen",children:"\xd7"})]})]},e.id)),(0,l.jsx)("button",{onClick:()=>{a([...t,{id:Date.now(),weight:"",quantity:0,stackable:!1}])},className:"mt-3 w-full py-2 text-sm font-semibold tracking-wide rounded-2xl",children:"Gewichtsgruppe hinzuf\xfcgen"})]})}I.displayName="Input";let D=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),L={curtainSider:{name:"Tautliner / Planensattel (13,2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:24e3},roadTrain:{name:"H\xe4ngerzug (2x 7,2m)",units:[{id:"unit1",length:720,width:245,occupiedRects:[]},{id:"unit2",length:720,width:245,occupiedRects:[]}],totalLength:1440,usableLength:1440,maxWidth:245,maxGrossWeightKg:24e3},standard13_2:{name:"Planensattel (13,2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:24e3},mega13_6:{name:"Mega (13,6m)",units:[{id:"main",length:1360,width:245,occupiedRects:[]}],totalLength:1360,usableLength:1360,maxWidth:245,maxGrossWeightKg:24e3},frigo13_2:{name:"Frigo (13,2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:2e4},smallTruck7_2:{name:"Motorwagen (7,2m)",units:[{id:"main",length:720,width:245,occupiedRects:[]}],totalLength:720,usableLength:720,maxWidth:245,maxGrossWeightKg:12e3},waggon:{name:"Waggon (16m)",units:[{id:"main",length:1600,width:290,occupiedRects:[]}],totalLength:1600,usableLength:1600,maxWidth:290,maxGrossWeightKg:28e3}},T={euro:{name:"Euro Palette (1.2m x 0.8m)",type:"euro",length:120,width:80,area:9600},industrial:{name:"Industrial Palette (1.2m x 1.0m)",type:"industrial",length:120,width:100,area:12e3}},U={curtainSider:{floorDIN:26,floorEUP:33,stackedDIN:52,stackedEUP:66,supportsStacking:!0},standard13_2:{floorDIN:26,floorEUP:33,stackedDIN:52,stackedEUP:66,supportsStacking:!0},mega13_6:{floorDIN:26,floorEUP:34,stackedDIN:52,stackedEUP:68,supportsStacking:!0},frigo13_2:{floorDIN:26,floorEUP:33,stackedDIN:52,stackedEUP:66,supportsStacking:!0},smallTruck7_2:{floorDIN:14,floorEUP:18,stackedDIN:28,stackedEUP:36,supportsStacking:!0},roadTrain:{floorDIN:28,floorEUP:36,stackedDIN:56,stackedEUP:72,supportsStacking:!0},waggon:{floorDIN:32,floorEUP:38,stackedDIN:32,stackedEUP:38,supportsStacking:!1}};function _(e,t,a,l){let s=Math.min(e,t);if(!l)return{floorCount:s,extraStacks:0,totalPlaced:s,overflow:Math.max(0,e-t)};let i=Math.max(a-t,0),n=Math.min(Math.max(e-t,0),i);return{floorCount:s,extraStacks:n,totalPlaced:s+n,overflow:Math.max(0,e-a)}}function C(e,t,a,l,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=[];if("industrial"===e){let e=Math.floor(t/2),a=0;for(let t=0;t<e;t++){let e=i+100*t;for(let t=0;t<2;t++){let s=0===t?0:l-120;n.push({index:a++,x:e,y:s,type:"industrial",width:120,length:100,floorPallet:null,stackedPallet:null})}}t%2!=0&&n.push({index:a++,x:i+100*e,y:(l-120)/2,type:"industrial",width:120,length:100,floorPallet:null,stackedPallet:null})}else if("long"===s){let e=Math.floor(t/3),a=0;for(let t=0;t<e;t++){let e=i+120*t,s=l/3,r=(s-80)/2;for(let t=0;t<3;t++){let l=t*s+r;n.push({index:a++,x:e,y:l,type:"euro",width:80,length:120,floorPallet:null,stackedPallet:null})}}let s=t%3;if(s>0){let t=i+120*e,r=l/3,o=(r-80)/2;for(let e=0;e<s;e++){let l=e*r+o;n.push({index:a++,x:t,y:l,type:"euro",width:80,length:120,floorPallet:null,stackedPallet:null})}}}else{let e=Math.floor(t/2),a=0;for(let t=0;t<e;t++){let e=i+80*t;for(let t=0;t<2;t++){let s=0===t?0:l-120;n.push({index:a++,x:e,y:s,type:"euro",width:120,length:80,floorPallet:null,stackedPallet:null})}}t%2!=0&&n.push({index:a++,x:i+80*e,y:(l-120)/2,type:"euro",width:120,length:80,floorPallet:null,stackedPallet:null})}return n.slice(0,t)}function M(e,t,a,l){for(let l=0;l<a&&l<e.length;l++)t[l].floorPallet=e[l];for(let s=0;s<l;s++){let l=a+s;if(l>=e.length)break;let i=a-1-s;i>=0&&i<t.length&&(t[i].stackedPallet=e[l])}}let A=function(e,t,a,l,s,i){let n,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DIN_FIRST";arguments.length>7&&arguments[7],arguments.length>8&&arguments[8],arguments.length>9&&void 0!==arguments[9]&&arguments[9];let o=L[e],d=U[e],c=o.usableLength,u=[],h=[],g=1,x=1;t.forEach(e=>{let t=parseFloat(e.weight||"0")||0,a=Math.min(e.quantity||0,300);for(let s=0;s<a;s++)u.push({id:u.length+1,type:"euro",weight:t,stackable:l&&!1!==e.stackable,labelId:g++})}),a.forEach(e=>{let t=parseFloat(e.weight||"0")||0,a=Math.min(e.quantity||0,300);for(let l=0;l<a;l++)h.push({id:h.length+1,type:"industrial",weight:t,stackable:s&&!1!==e.stackable,labelId:x++})});let m=[...h,...u].reduce((e,t)=>e+t.weight,0),p=[];m>(o.maxGrossWeightKg||24e3)&&p.push("Warnung: Maximales zul\xe4ssiges Gesamtgewicht von ".concat(D.format(o.maxGrossWeightKg||24e3)," kg \xfcberschritten (").concat(D.format(m)," kg geladen)."));let b="long";if("broad"===i)b="broad";else if("auto"===i){if("mega13_6"===e)b="broad";else{let e=Math.floor(c/120);b=u.length<=3*e?"long":"broad"}}let f=d.supportsStacking,k=_(h.length,d.floorDIN,d.stackedDIN,s&&f),w=_(u.length,d.floorEUP,d.stackedEUP,l&&f);k.overflow>0&&p.push("".concat(k.overflow," DIN-Paletten konnten nicht geladen werden (Kapazit\xe4t \xfcberschritten).")),w.overflow>0&&p.push("".concat(w.overflow," EUP-Paletten konnten nicht geladen werden (Kapazit\xe4t \xfcberschritten)."));let N=k.extraStacks>0,y=w.extraStacks>0;n=(!!N||!!y)&&(!!N&&!y||"DIN_FIRST"===r);let P=o.units[0],j=P.length,S=P.width,v=C("industrial",k.floorCount,j,S,b,0),E=C("euro",w.floorCount,j,S,b,0);M(h,v,k.floorCount,k.extraStacks),M(u,E,w.floorCount,w.extraStacks);let I=0,W=0,T=0===v.length?0:100*Math.ceil(k.floorCount/2),A=0===E.length?0:"long"===b?120*Math.ceil(w.floorCount/3):80*Math.ceil(w.floorCount/2);n?(I=0,W=T):(W=0,I=A),v.forEach(e=>{e.x+=I}),E.forEach(e=>{e.x+=W});let q=o.units.map(e=>({...e,palletsVisual:[]})),R=q[0],z=(e,t,a)=>{t&&R.palletsVisual.push({palletId:t.id,labelId:t.labelId,x:e.x,y:e.y,width:e.width,length:e.length,type:e.type,isStacked:a,baseIndex:a?e.index:null})};v.forEach(e=>z(e,e.floorPallet,!1)),E.forEach(e=>z(e,e.floorPallet,!1)),v.forEach(e=>z(e,e.stackedPallet,!0)),E.forEach(e=>z(e,e.stackedPallet,!0));let F=parseFloat((Math.max(I+T,W+A)/c*100).toFixed(1)),K=0;[...v,...E].forEach(e=>{e.x<400&&(e.floorPallet&&(K+=e.floorPallet.weight),e.stackedPallet&&(K+=e.stackedPallet.weight))}),K>1e4&&p.push("Warnung: Hohe Last im Stirnwandbereich (".concat(D.format(K)," kg)."));let V=k.totalPlaced,B=w.totalPlaced;return{palletArrangement:q.map(e=>({unitId:e.id,unitLength:e.length,unitWidth:e.width,pallets:e.palletsVisual})),loadedIndustrialPalletsBase:k.floorCount,loadedEuroPalletsBase:w.floorCount,totalDinPalletsVisual:V,totalEuroPalletsVisual:B,utilizationPercentage:F,warnings:Array.from(new Set(p)),totalWeightKg:m,eupLoadingPatternUsed:b}},q={euro:{background:"linear-gradient(135deg, hsla(217, 100%, 68%, 0.92), hsla(217, 98%, 56%, 0.98))",borderColor:"hsla(218, 96%, 52%, 0.9)",textColor:"rgba(15, 23, 42, 0.95)",highlightBorder:"hsla(217, 96%, 80%, 0.65)",shadow:"0 16px 32px -22px rgba(37, 99, 235, 0.85)"},industrial:{background:"linear-gradient(135deg, hsla(142, 82%, 64%, 0.88), hsla(142, 84%, 48%, 0.95))",borderColor:"hsla(142, 78%, 42%, 0.88)",textColor:"rgba(15, 23, 42, 0.9)",highlightBorder:"hsla(142, 80%, 76%, 0.55)",shadow:"0 16px 32px -24px rgba(22, 163, 74, 0.75)"}},R=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.35;if(!e||!e.type||!T[e.type])return null;let s=null!==(t=q[e.type])&&void 0!==t?t:q.euro,i=T[e.type],n=e.height*a,r=e.width*a,o=e.y*a,d=e.x*a,c=e.showAsFraction&&e.displayStackedLabelId?"".concat(e.displayBaseLabelId,"/").concat(e.displayStackedLabelId):"".concat(e.labelId);0===e.labelId&&(c="?");let u="".concat(i.name," #").concat(e.labelId);return e.showAsFraction&&(u="".concat(i.name," (Stapel: ").concat(e.displayBaseLabelId,"/").concat(e.displayStackedLabelId,")")),"top"===e.isStackedTier&&(u+=" - Oben"),"base"===e.isStackedTier&&(u+=" - Basis des Stapels"),(0,l.jsxs)("div",{title:u,className:"absolute border flex items-center justify-center rounded-sm",style:{left:"".concat(o,"px"),top:"".concat(d,"px"),width:"".concat(n,"px"),height:"".concat(r,"px"),opacity:"top"===e.isStackedTier?.72:1,zIndex:"top"===e.isStackedTier?10:5,fontSize:"10px",background:s.background,borderColor:s.borderColor,boxShadow:s.shadow,color:s.textColor,filter:"saturate(1.3)"},children:[(0,l.jsx)("span",{className:"font-semibold select-none",style:{color:s.textColor,textShadow:"0 1px 3px rgba(15, 23, 42, 0.45)"},children:c}),"top"===e.isStackedTier&&(0,l.jsx)("div",{className:"absolute inset-0 pointer-events-none rounded-sm",style:{borderTop:"1.5px solid ".concat(s.highlightBorder),borderLeft:"1.5px solid ".concat(s.highlightBorder),borderRadius:"0.2rem"}})]},e.key)};function z(e){let{palletArrangement:t,selectedTruck:a,truckConfig:s}=e;return(0,l.jsxs)("div",{className:"lg:col-span-2 bg-gray-100 p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center justify-center","data-selected-truck":a,children:[(0,l.jsx)("p",{className:"text-slate-100 text-lg mb-4 font-semibold drop-shadow",children:"Ladefl\xe4che Visualisierung"}),t.map((e,t)=>(0,l.jsxs)("div",{className:"mb-6 w-full flex flex-col items-center",children:[s.units.length>1&&(0,l.jsxs)("p",{className:"text-sm text-slate-200 mb-2 drop-shadow-sm",children:["Einheit ",t+1," (",e.unitLength/100,"m x ",e.unitWidth/100,"m)"]}),0===t&&(0,l.jsxs)("svg",{"aria-hidden":!0,role:"presentation",className:"block",width:.35*e.unitWidth,height:24,viewBox:"0 0 ".concat(.35*e.unitWidth," 24"),children:[(0,l.jsx)("rect",{x:"0",y:"6",width:.35*e.unitWidth,height:"16",rx:"6",fill:"rgba(59,130,246,0.4)",stroke:"rgba(96,165,250,0.65)"}),(0,l.jsx)("path",{d:"M ".concat(.35*e.unitWidth/2-12," 6 L ").concat(.35*e.unitWidth/2," 0 L ").concat(.35*e.unitWidth/2+12," 6 Z"),fill:"rgba(59,130,246,0.55)"}),(0,l.jsx)("text",{x:.35*e.unitWidth/2,y:20,textAnchor:"middle",fontSize:"10",fontWeight:700,fill:"rgba(15,23,42,0.85)",children:"Front"})]}),(0,l.jsx)("div",{className:"relative overflow-hidden rounded-2xl border border-white/40 shadow-[0_18px_45px_-32px_rgba(15,23,42,0.55)]",style:{width:"".concat(.35*e.unitWidth,"px"),height:"".concat(.35*e.unitLength,"px"),background:"linear-gradient(160deg, rgba(148, 163, 184, 0.25), rgba(226, 232, 240, 0.18))",backdropFilter:"blur(26px)",WebkitBackdropFilter:"blur(26px)"},children:e.pallets.map(e=>R(e,.35))})]},e.unitId)),0===t.length&&(0,l.jsx)("p",{className:"text-slate-200/80",children:"Keine Paletten zum Anzeigen."})]})}var F=a(5555),K=a(2286);let V=()=>({eupWeights:[{id:Date.now(),weight:"",quantity:0,stackable:!1}],dinWeights:[{id:Date.now()+1,weight:"",quantity:0,stackable:!1}]}),B=e=>e.reduce((e,t)=>e+(t.stackable?t.quantity:0),0),G=(0,F.v)()((0,K.lt)((e,t)=>({selectedTruck:"curtainSider",...V(),eupLoadingPattern:"auto",isEUPStackable:!1,isDINStackable:!1,stackingStrategy:"axle_safe",loadedEuroPalletsBase:0,loadedIndustrialPalletsBase:0,totalEuroPalletsVisual:0,totalDinPalletsVisual:0,utilizationPercentage:0,warnings:[],palletArrangement:[],totalWeightKg:0,actualEupLoadingPattern:"auto",remainingCapacity:{eup:0,din:0},lastEdited:"eup",setSelectedTruck:t=>e(()=>{let e={selectedTruck:t};return["Waggon","Waggon2"].includes(t)&&(e.isEUPStackable=!1,e.isDINStackable=!1),e},!1,"setSelectedTruck"),setEupWeights:t=>e({eupWeights:t},!1,"setEupWeights"),setDinWeights:t=>e({dinWeights:t},!1,"setDinWeights"),setEupLoadingPattern:t=>e({eupLoadingPattern:t},!1,"setEupLoadingPattern"),setIsEUPStackable:t=>e({isEUPStackable:t},!1,"setIsEUPStackable"),setIsDINStackable:t=>e({isDINStackable:t},!1,"setIsDINStackable"),setStackingStrategy:t=>e({stackingStrategy:t},!1,"setStackingStrategy"),setLastEdited:t=>e({lastEdited:t},!1,"setLastEdited"),clearAllPallets:()=>e(()=>{let e=V(),a=L[t().selectedTruck].units.map(e=>({unitId:e.id,unitLength:e.length,unitWidth:e.width,pallets:[]}));return{...e,isEUPStackable:!1,isDINStackable:!1,eupLoadingPattern:"auto",lastEdited:"eup",loadedEuroPalletsBase:0,loadedIndustrialPalletsBase:0,totalEuroPalletsVisual:0,totalDinPalletsVisual:0,utilizationPercentage:0,warnings:[],palletArrangement:a,totalWeightKg:0,actualEupLoadingPattern:"auto",remainingCapacity:{eup:0,din:0}}},!1,"clearAllPallets"),maximizePallets:a=>{let l=t(),s="euro"===a?[{id:1,quantity:300,weight:"0",stackable:l.isEUPStackable}]:[],i="industrial"===a?[{id:1,quantity:300,weight:"0",stackable:l.isDINStackable}]:[],n=A(l.selectedTruck,s,i,l.isEUPStackable,l.isDINStackable,"auto","euro"===a?"EUP_FIRST":"DIN_FIRST",B(s),B(i),l.stackingStrategy);"industrial"===a?e(()=>({dinWeights:[{id:Date.now(),weight:"",quantity:n.totalDinPalletsVisual,stackable:l.isDINStackable}],eupWeights:[{id:Date.now()+1,weight:"",quantity:0,stackable:l.isEUPStackable}],lastEdited:"din"}),!1,"maximizePallets"):e(()=>({eupWeights:[{id:Date.now(),weight:"",quantity:n.totalEuroPalletsVisual,stackable:l.isEUPStackable}],dinWeights:[{id:Date.now()+1,weight:"",quantity:0,stackable:l.isDINStackable}],lastEdited:"eup"}),!1,"maximizePallets")},fillRemaining:a=>{let l=t(),s="euro"===a?l.eupWeights[l.eupWeights.length-1]:l.dinWeights[l.dinWeights.length-1],i=(null==s?void 0:s.weight)||"0",n="euro"===a?[...l.eupWeights,{id:-1,quantity:300,weight:i,stackable:l.isEUPStackable}]:[...l.eupWeights],r="industrial"===a?[...l.dinWeights,{id:-1,quantity:300,weight:i,stackable:l.isDINStackable}]:[...l.dinWeights],o=A(l.selectedTruck,n,r,l.isEUPStackable,l.isDINStackable,"auto","euro"===a?"DIN_FIRST":"EUP_FIRST",B(n),B(r),l.stackingStrategy),d=l.eupWeights.reduce((e,t)=>e+t.quantity,0),c=l.dinWeights.reduce((e,t)=>e+t.quantity,0),u=o.totalEuroPalletsVisual-d,h=o.totalDinPalletsVisual-c,g=!1;return e(e=>{let t={lastEdited:"euro"===a?"eup":"din"};if("euro"===a&&u>0&&e.eupWeights.length>0){let a=[...e.eupWeights],l=a.length-1,s={...a[l],quantity:a[l].quantity+u};a[l]=s,t.eupWeights=a,g=!0}else if("industrial"===a&&h>0&&e.dinWeights.length>0){let a=[...e.dinWeights],l=a.length-1,s={...a[l],quantity:a[l].quantity+h};a[l]=s,t.dinWeights=a,g=!0}return t},!1,"fillRemaining"),g},recalculate:()=>{let a=t(),l=a.eupWeights.reduce((e,t)=>e+t.quantity,0),s=a.dinWeights.reduce((e,t)=>e+t.quantity,0),i=B(a.eupWeights),n=B(a.dinWeights),r=A(a.selectedTruck,a.eupWeights,a.dinWeights,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"DIN_FIRST",i,n,a.stackingStrategy),o=[];if(s>0&&0===l){let e=[{id:1,quantity:300,weight:"0",stackable:a.isDINStackable}],t=A(a.selectedTruck,[],e,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"DIN_FIRST",i,B(e),a.stackingStrategy).totalDinPalletsVisual;if(t>0&&s>t){let e=Math.ceil(s/t),a=Math.floor(s/t),l=s%t;0===l?o.push("F\xfcr diesen Auftrag werden ".concat(a," volle LKWs ben\xf6tigt.")):o.push("Ben\xf6tigt ".concat(e," LKWs: ").concat(a," volle LKW(s) und 1 LKW mit ").concat(l," Paletten."))}}else if(l>0&&0===s){let e=[{id:1,quantity:300,weight:"0",stackable:a.isEUPStackable}],t=A(a.selectedTruck,e,[],a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"EUP_FIRST",B(e),n,a.stackingStrategy).totalEuroPalletsVisual;if(t>0&&l>t){let e=Math.ceil(l/t),a=Math.floor(l/t),s=l%t;0===s?o.push("F\xfcr diesen Auftrag werden ".concat(a," volle LKWs ben\xf6tigt.")):o.push("Ben\xf6tigt ".concat(e," LKWs: ").concat(a," volle LKW(s) und 1 LKW mit ").concat(s," Paletten."))}}let d=[{id:-1,quantity:300,weight:a.eupWeights.length>0&&a.eupWeights[a.eupWeights.length-1].weight||"0",stackable:a.isEUPStackable}],c=Math.max(0,A(a.selectedTruck,d,a.dinWeights,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"DIN_FIRST",B(d),n,a.stackingStrategy).totalEuroPalletsVisual-l),u=[{id:-1,quantity:300,weight:a.dinWeights.length>0&&a.dinWeights[a.dinWeights.length-1].weight||"0",stackable:a.isDINStackable}],h=Math.max(0,A(a.selectedTruck,a.eupWeights,u,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"EUP_FIRST",i,B(u),a.stackingStrategy).totalDinPalletsVisual-s);e({palletArrangement:r.palletArrangement,loadedIndustrialPalletsBase:r.loadedIndustrialPalletsBase,loadedEuroPalletsBase:r.loadedEuroPalletsBase,totalDinPalletsVisual:r.totalDinPalletsVisual,totalEuroPalletsVisual:r.totalEuroPalletsVisual,utilizationPercentage:r.utilizationPercentage,warnings:Array.from(new Set([...r.warnings,...o])),totalWeightKg:r.totalWeightKg,actualEupLoadingPattern:r.eupLoadingPatternUsed,remainingCapacity:{eup:c,din:h}},!1,"recalculate")}})));function O(){var e;let{selectedTruck:t,setSelectedTruck:a,eupWeights:i,setEupWeights:n,dinWeights:r,setDinWeights:o,eupLoadingPattern:d,setEupLoadingPattern:c,isEUPStackable:u,setIsEUPStackable:h,isDINStackable:x,setIsDINStackable:m,stackingStrategy:p,setStackingStrategy:b,loadedEuroPalletsBase:f,loadedIndustrialPalletsBase:k,totalEuroPalletsVisual:w,totalDinPalletsVisual:N,warnings:y,palletArrangement:P,totalWeightKg:j,actualEupLoadingPattern:S,remainingCapacity:v,lastEdited:I,setLastEdited:T,clearAllPallets:U,maximizePallets:_,fillRemaining:C,recalculate:M}=G(),{toast:A}=g(),q=["Waggon","Waggon2"].includes(t),R=L[t],F=null!==(e=R.maxGrossWeightKg)&&void 0!==e?e:24e3;(0,s.useEffect)(()=>{M()},[t,i,r,u,x,d,p,M]);let K={DIN:{color:"hsl(142, 78%, 38%)",textShadow:"0 1px 3px rgba(15, 23, 42, 0.4)"},EUP:{color:"hsl(217, 96%, 52%)",textShadow:"0 1px 3px rgba(15, 23, 42, 0.35)"}},V=y.filter(e=>!e.toLowerCase().includes("platz")&&!e.toLowerCase().includes("ben\xf6tigt")),B={bg:"bg-gray-50",border:"border-gray-200",header:"text-gray-800",list:"text-gray-700"};return 0===V.length&&(N>0||w>0)?B={bg:"bg-green-50",border:"border-green-200",header:"text-green-800",list:"text-green-700"}:V.some(e=>e.toLowerCase().includes("konnte nicht"))?B={bg:"bg-red-50",border:"border-red-200",header:"text-red-800",list:"text-red-700"}:V.length>0&&(B={bg:"bg-yellow-50",border:"border-yellow-200",header:"text-yellow-800",list:"text-yellow-700"}),(0,l.jsxs)("div",{className:"container mx-auto p-4 font-sans space-y-6",children:[(0,l.jsxs)("header",{className:"relative bg-gradient-to-r from-blue-700 to-blue-900 p-5 rounded-t-lg shadow-lg mb-6 text-slate-100",children:[(0,l.jsxs)("div",{className:"absolute top-2 right-4 text-right text-xs text-slate-100/80 drop-shadow",children:[(0,l.jsxs)("p",{children:["Laderaumrechner \xa9 ",new Date().getFullYear()]}),(0,l.jsx)("p",{children:"by Andreas Steiner"})]}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-center tracking-tight drop-shadow-sm",children:"Laderaumrechner"}),(0,l.jsx)("p",{className:"text-center text-sm text-slate-100/90 drop-shadow",children:"Visualisierung der Palettenplatzierung (Europ\xe4ische Standards)"})]}),(0,l.jsxs)("main",{className:"p-6 bg-white shadow-lg rounded-b-lg",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-1 space-y-6 bg-slate-50 p-5 rounded-lg border border-slate-200 shadow-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"truckType",className:"block text-sm font-semibold text-slate-800 mb-1 drop-shadow-sm",children:"LKW-Typ:"}),(0,l.jsx)("select",{id:"truckType",value:t,onChange:e=>{a(e.target.value)},className:"mt-1 block w-full py-2 px-3 text-sm font-medium focus:outline-none focus:ring-0 focus-visible:ring-0",children:Object.keys(L).map(e=>(0,l.jsx)("option",{value:e,children:L[e].name},e))})]}),(0,l.jsx)("div",{className:"pt-4",children:(0,l.jsx)("button",{onClick:U,className:"w-full py-2.5 px-4 font-semibold tracking-wide text-emerald-950/90 rounded-2xl",children:"Alles zur\xfccksetzen"})}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 drop-shadow-sm",children:"Industriepaletten (DIN)"}),(0,l.jsx)(W,{entries:r,onChange:e=>{T("din"),o(e)},palletType:"DIN",stackableEnabled:x}),(0,l.jsx)("button",{onClick:()=>_("industrial"),className:"mt-2 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Max. DIN"}),(0,l.jsx)("button",{onClick:()=>{C("industrial"),A({title:"LKW aufgef\xfcllt",description:"Freier Platz wurde mit INDUSTRIAL Paletten gef\xfcllt."})},className:"mt-1 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Rest mit max. DIN f\xfcllen"}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"dinStackable",checked:x,onChange:e=>m(e.target.checked),disabled:q,className:"h-5 w-5 disabled:cursor-not-allowed"}),(0,l.jsx)("label",{htmlFor:"dinStackable",className:"ml-2 text-sm text-slate-800 ".concat(q?"text-slate-400":""),children:"Stapelbar (2-fach)"})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 drop-shadow-sm",children:"Europaletten (EUP)"}),(0,l.jsx)(W,{entries:i,onChange:e=>{T("eup"),n(e)},palletType:"EUP",stackableEnabled:u}),(0,l.jsx)("button",{onClick:()=>_("euro"),className:"mt-2 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Max. EUP"}),(0,l.jsx)("button",{onClick:()=>{C("euro"),A({title:"LKW aufgef\xfcllt",description:"Freier Platz wurde mit EURO Paletten gef\xfcllt."})},className:"mt-1 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Rest mit max. EUP f\xfcllen"}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"eupStackable",checked:u,onChange:e=>h(e.target.checked),disabled:q,className:"h-5 w-5 disabled:cursor-not-allowed"}),(0,l.jsx)("label",{htmlFor:"eupStackable",className:"ml-2 text-sm text-slate-800 ".concat(q?"text-slate-400":""),children:"Stapelbar (2-fach)"})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-1 drop-shadow-sm",children:"Stacking-Modus"}),(0,l.jsx)("p",{className:"text-xs text-slate-600 mb-2",children:"Steuert, ob gestapelte Paletten bevorzugt in der Achszone bleiben oder maximal ausgenutzt werden."}),(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsxs)("label",{className:"flex items-start text-sm text-slate-800",children:[(0,l.jsx)("input",{type:"radio",name:"stackingStrategy",value:"axle_safe",checked:"axle_safe"===p,onChange:e=>b(e.target.value),className:"h-5 w-5 mt-0.5"}),(0,l.jsx)("span",{className:"ml-2",children:"Achslast-optimiert (Stacks starten in der Mitte, Bodenpl\xe4tze bleiben frei)"})]}),(0,l.jsxs)("label",{className:"flex items-start text-sm text-slate-800",children:[(0,l.jsx)("input",{type:"radio",name:"stackingStrategy",value:"max_pairs",checked:"max_pairs"===p,onChange:e=>b(e.target.value),className:"h-5 w-5 mt-0.5"}),(0,l.jsx)("span",{className:"ml-2",children:"Maximale Stapelanzahl (klassische Variante, stapelt so fr\xfch wie m\xf6glich)"})]})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:["EUP Lade-Pattern:",(0,l.jsxs)("span",{className:"text-xs text-slate-600",children:[" (Gew\xe4hlt: ","none"===S?"Keines":S,")"]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"auto",checked:"auto"===d,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"Auto-Optimieren"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"long",checked:"long"===d,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"L\xe4ngs (3 nebeneinander)"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"broad",checked:"broad"===d,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"Quer (2 nebeneinander)"})]})]})]})]}),(0,l.jsx)(z,{palletArrangement:P,selectedTruck:t,truckConfig:R})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 shadow-sm text-center",children:[(0,l.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Geladene Paletten (Visuell)"}),(0,l.jsxs)("p",{className:"text-slate-900/85",children:["Industrie (DIN): ",(0,l.jsx)("span",{className:"font-bold text-lg text-slate-900",children:N})]}),(0,l.jsxs)("p",{className:"text-slate-900/85",children:["Euro (EUP): ",(0,l.jsx)("span",{className:"font-bold text-lg text-slate-900",children:w})]}),(0,l.jsxs)("p",{className:"text-xs mt-1 text-slate-900/70",children:["(Basis: ",k," DIN, ",f," EUP)"]})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 shadow-sm text-center",children:[(0,l.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Verbleibende Kapazit\xe4t"}),(()=>{let e="din"===I?"DIN":"EUP",t="din"===I?"EUP":"DIN",a="din"===I?v.din:v.eup,s="din"===I?v.eup:v.din,i=K[e],n=K[t];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"font-bold text-2xl text-slate-900/90 drop-shadow-sm",children:"Platz f\xfcr:"}),(0,l.jsxs)("p",{className:"font-bold text-2xl text-slate-900/90 space-x-1",children:[(0,l.jsx)("span",{style:i,children:a}),(0,l.jsx)("span",{className:"text-slate-900/80",children:"weitere"}),(0,l.jsx)("span",{style:i,children:e}),(0,l.jsx)("span",{className:"text-slate-900/80",children:1===a?"Palette":"Paletten"})]}),(0,l.jsx)("p",{className:"text-slate-900/80",children:"oder"}),(0,l.jsxs)("p",{className:"font-bold text-xl text-slate-900/85 space-x-1",children:[(0,l.jsx)("span",{style:n,children:s}),(0,l.jsx)("span",{className:"text-slate-900/70",children:"weitere"}),(0,l.jsx)("span",{style:n,children:t}),(0,l.jsx)("span",{className:"text-slate-900/70",children:1===s?"Palette":"Paletten"})]})]})})()]}),(0,l.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 shadow-sm text-center",children:[(0,l.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Gesch\xe4tztes Gewicht"}),(0,l.jsxs)("p",{className:"font-bold text-2xl text-slate-900/90",children:[D.format(j)," kg"]}),(0,l.jsxs)("p",{className:"text-xs mt-1 text-slate-900/70",children:["(Max: ",D.format(F)," kg)"]})]}),(0,l.jsxs)("div",{className:"".concat(B.bg," p-4 rounded-lg border ").concat(B.border," shadow-sm"),children:[(0,l.jsx)("h3",{className:"font-semibold mb-2 ".concat(B.header," drop-shadow-sm"),children:"Meldungen"}),y.length>0?(0,l.jsx)("ul",{className:"list-disc list-inside text-sm space-y-1 ".concat(B.list),children:y.map((e,t)=>(0,l.jsx)("li",{children:e},t))}):(0,l.jsx)("p",{className:"text-sm ".concat(B.list),children:"Keine Probleme erkannt."})]})]})]}),(0,l.jsx)("footer",{className:"text-center py-4 mt-8 text-sm text-slate-100/80 border-t border-gray-200",children:(0,l.jsxs)("p",{className:"drop-shadow",children:["Laderaumrechner \xa9 ",new Date().getFullYear()," by Andreas Steiner"]})}),(0,l.jsx)(E,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[757,685,411,358],()=>t(6053)),_N_E=e.O()}]);