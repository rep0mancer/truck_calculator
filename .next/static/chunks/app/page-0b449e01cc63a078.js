(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6053:(e,t,a)=>{Promise.resolve().then(a.bind(a,3992))},3992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var s=a(2860),l=a(3200);let i=0,n=new Map,r=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function u(e){c=d(c,e),o.forEach(e=>{e(c)})}function h(e){let{...t}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function g(){let[e,t]=l.useState(c);return l.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:h,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}var x=a(4964),m=a(1073),p=a(2906),b=a(9769),f=a(2460);function k(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.QP)((0,b.$)(t))}let w=x.Kq,y=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(x.LM,{ref:t,className:k("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...l})});y.displayName=x.LM.displayName;let N=(0,m.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),j=l.forwardRef((e,t)=>{let{className:a,variant:l,...i}=e;return(0,s.jsx)(x.bL,{ref:t,className:k(N({variant:l}),a),...i})});j.displayName=x.bL.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(x.rc,{ref:t,className:k("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...l})}).displayName=x.rc.displayName;let S=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(x.bm,{ref:t,className:k("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...l,children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})});S.displayName=x.bm.displayName;let P=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(x.hE,{ref:t,className:k("text-sm font-semibold [&+div]:text-xs",a),...l})});P.displayName=x.hE.displayName;let v=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(x.VY,{ref:t,className:k("text-sm opacity-90",a),...l})});function I(){let{toasts:e}=g();return(0,s.jsxs)(w,{children:[e.map(function(e){let{id:t,title:a,description:l,action:i,...n}=e;return(0,s.jsxs)(j,{...n,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(P,{children:a}),l&&(0,s.jsx)(v,{children:l})]}),i,(0,s.jsx)(S,{})]},t)}),(0,s.jsx)(y,{})]})}v.displayName=x.VY.displayName;let E=l.forwardRef((e,t)=>{let{className:a,type:l,...i}=e;return(0,s.jsx)("input",{type:l,className:k("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});function W(e){let{entries:t,onChange:a,palletType:l,preferredId:i=null,onSetPreferred:n,stackableEnabled:r=!1}=e,d=e=>{e===i&&n&&n(null),a(t.filter(t=>t.id!==e))},o=(e,s,l)=>{a(t.map(t=>{if(t.id===e){let a="quantity"===s?parseInt(l,10)||0:t.quantity,r="weight"===s?l:t.weight;return 0===a&&e===i&&n&&n(null),{...t,quantity:a,weight:r}}return t}))},c=(e,s)=>{a(t.map(t=>t.id===e?{...t,stackable:s}:t))};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("label",{className:"w-20 text-center text-xs font-semibold text-slate-600",children:"Anzahl"}),(0,s.jsxs)("label",{className:"w-32 text-center text-xs font-semibold text-slate-600",children:["Gewicht/",l," (kg)"]}),r&&(0,s.jsx)("span",{className:"text-xs font-semibold text-slate-600",children:"Stapelbar"})]}),t.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 rounded-2xl border border-white/30 bg-white/10 px-3 py-2 backdrop-blur-xl shadow-[0_18px_36px_-28px_rgba(15,23,42,0.45)]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none",onClick:()=>o(e.id,"quantity",String(Math.max(0,e.quantity-1))),"aria-label":"Menge reduzieren",children:"âˆ’"}),(0,s.jsx)(E,{type:"number",min:"0",value:e.quantity,onChange:t=>o(e.id,"quantity",t.target.value),placeholder:"Anzahl",className:"w-16 text-center font-semibold"}),(0,s.jsx)("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none",onClick:()=>o(e.id,"quantity",String(e.quantity+1)),"aria-label":"Menge erh\xf6hen",children:"+"})]}),(0,s.jsx)(E,{type:"number",min:"0",value:e.weight,onChange:t=>o(e.id,"weight",t.target.value),placeholder:"Gewicht/".concat(l),className:"w-32 text-center font-semibold"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,s.jsx)("label",{className:"flex items-center gap-1 text-xs text-slate-700",children:(0,s.jsx)("input",{type:"checkbox",checked:!!e.stackable,onChange:t=>c(e.id,t.target.checked),className:"h-4 w-4"})}),t.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>d(e.id),className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none","aria-label":"Gruppe entfernen",children:"\xd7"})]})]},e.id)),(0,s.jsx)("button",{onClick:()=>{a([...t,{id:Date.now(),weight:"",quantity:0,stackable:!1}])},className:"mt-3 w-full py-2 text-sm font-semibold tracking-wide rounded-2xl",children:"Gewichtsgruppe hinzuf\xfcgen"})]})}E.displayName="Input";let D=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),L={curtainSider:{name:"Tautliner / Planensattel (13,2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:24e3},roadTrain:{name:"H\xe4ngerzug (2x 7,2m)",units:[{id:"unit1",length:720,width:245,occupiedRects:[]},{id:"unit2",length:720,width:245,occupiedRects:[]}],totalLength:1440,usableLength:1440,maxWidth:245,maxGrossWeightKg:24e3},standard13_2:{name:"Planensattel (13,2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:24e3},mega13_6:{name:"Mega (13,6m)",units:[{id:"main",length:1360,width:245,occupiedRects:[]}],totalLength:1360,usableLength:1360,maxWidth:245,maxGrossWeightKg:24e3},frigo13_2:{name:"Frigo (13,2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:2e4},smallTruck7_2:{name:"Motorwagen (7,2m)",units:[{id:"main",length:720,width:245,occupiedRects:[]}],totalLength:720,usableLength:720,maxWidth:245,maxGrossWeightKg:12e3},waggon:{name:"Waggon (16m)",units:[{id:"main",length:1600,width:290,occupiedRects:[]}],totalLength:1600,usableLength:1600,maxWidth:290,maxGrossWeightKg:28e3}},T={euro:{name:"Euro Palette (1.2m x 0.8m)",type:"euro",length:120,width:80,area:9600},industrial:{name:"Industrial Palette (1.2m x 1.0m)",type:"industrial",length:120,width:100,area:12e3}},U={curtainSider:{floorDIN:26,floorEUP:33,stackedDIN:52,stackedEUP:66,supportsStacking:!0},standard13_2:{floorDIN:26,floorEUP:33,stackedDIN:52,stackedEUP:66,supportsStacking:!0},mega13_6:{floorDIN:26,floorEUP:34,stackedDIN:52,stackedEUP:68,supportsStacking:!0},frigo13_2:{floorDIN:26,floorEUP:33,stackedDIN:52,stackedEUP:66,supportsStacking:!0},smallTruck7_2:{floorDIN:14,floorEUP:18,stackedDIN:28,stackedEUP:36,supportsStacking:!0},roadTrain:{floorDIN:28,floorEUP:36,stackedDIN:56,stackedEUP:72,supportsStacking:!0},waggon:{floorDIN:32,floorEUP:38,stackedDIN:32,stackedEUP:38,supportsStacking:!1}},_=function(e,t,a,s,l,i){arguments.length>6&&void 0!==arguments[6]&&arguments[6],arguments.length>7&&arguments[7],arguments.length>8&&arguments[8],arguments.length>9&&void 0!==arguments[9]&&arguments[9];let n=L[e],r=U[e],d=n.usableLength,o=n.maxWidth,c=[],u=[];t.forEach(e=>{let t=parseFloat(e.weight||"0")||0,a=Math.min(e.quantity||0,300);for(let l=0;l<a;l++)c.push({weight:t,stackable:s&&!1!==e.stackable})}),a.forEach(e=>{let t=parseFloat(e.weight||"0")||0,a=Math.min(e.quantity||0,300);for(let s=0;s<a;s++)u.push({weight:t,stackable:l&&!1!==e.stackable})});let h=[...u,...c].reduce((e,t)=>e+t.weight,0),g=[];h>(n.maxGrossWeightKg||24e3)&&g.push("Warnung: Maximales zul\xe4ssiges Gesamtgewicht von ".concat(D.format(n.maxGrossWeightKg||24e3)," kg \xfcberschritten (").concat(D.format(h)," kg geladen)."));let x="long";"broad"===i?x="broad":"auto"===i&&(x=3*Math.floor(d/120)>=2*Math.floor(d/80)?"long":"broad");let m=r.supportsStacking,p=(e,t,a,s)=>{let l=Math.min(e,t);if(!s)return{floor:l,stacked:0,total:l,overflow:Math.max(0,e-t)};let i=Math.max(a-t,0),n=Math.min(Math.max(e-t,0),i);return{floor:l,stacked:n,total:l+n,overflow:Math.max(0,e-a)}},b=p(u.length,r.floorDIN,r.stackedDIN,l&&m),f=p(c.length,r.floorEUP,r.stackedEUP,s&&m);b.overflow>0&&g.push("".concat(b.overflow," DIN-Palette(n) konnten nicht geladen werden (Kapazit\xe4t: ").concat(r.stackedDIN,").")),f.overflow>0&&g.push("".concat(f.overflow," EUP-Palette(n) konnten nicht geladen werden (Kapazit\xe4t: ").concat(r.stackedEUP,")."));let k=b.stacked>0,w=f.stacked>0,y=!0;k&&!w&&(y=!1);let N=[],j=0,S=0,P=e=>{if(0===b.floor)return 0;let t=Math.ceil(b.floor/2),a=[];for(let s=0;s<t;s++){let t=e+100*s,l=Math.min(2,b.floor-2*s);for(let e=0;e<l;e++){let l=0===e?0:o-120;j++,a.push({row:s,col:e,x:t,y:l,labelId:j}),N.push({x:t,y:l,width:100,height:120,type:"industrial",labelId:j,isStackedTier:null,showAsFraction:!1,displayBaseLabelId:j,displayStackedLabelId:null,key:"din_".concat(j)})}}if(b.stacked>0)for(let e=0;e<b.stacked;e++){let t=a.length-1-e;if(t<0)break;let s=a[t];j++;let l=N.find(e=>"industrial"===e.type&&e.labelId===s.labelId);l&&(l.isStackedTier="base",l.showAsFraction=!0,l.displayStackedLabelId=j),N.push({x:s.x,y:s.y,width:100,height:120,type:"industrial",labelId:j,isStackedTier:"top",showAsFraction:!0,displayBaseLabelId:s.labelId,displayStackedLabelId:j,key:"din_".concat(j,"_top")})}return 100*t},v=e=>{if(0===f.floor)return 0;let t="long"===x,a=t?120:80,s=t?80:120,l=t?3:2,i=Math.ceil(f.floor/l),n=[];for(let r=0;r<i;r++){let i=e+r*a,d=Math.min(l,f.floor-r*l);for(let e=0;e<d;e++){let d;if(t&&3===l){let t=o/l;d=Math.floor(e*t+(t-s)/2)}else d=0===e?0:o-s;S++,n.push({row:r,col:e,x:i,y:d,labelId:S}),N.push({x:i,y:d,width:a,height:s,type:"euro",labelId:S,isStackedTier:null,showAsFraction:!1,displayBaseLabelId:S,displayStackedLabelId:null,key:"eup_".concat(S)})}}if(f.stacked>0)for(let e=0;e<f.stacked;e++){let t=n.length-1-e;if(t<0)break;let l=n[t];S++;let i=N.find(e=>"euro"===e.type&&e.labelId===l.labelId);i&&(i.isStackedTier="base",i.showAsFraction=!0,i.displayStackedLabelId=S),N.push({x:l.x,y:l.y,width:a,height:s,type:"euro",labelId:S,isStackedTier:"top",showAsFraction:!0,displayBaseLabelId:l.labelId,displayStackedLabelId:S,key:"eup_".concat(S,"_top")})}return i*a},I=0,E=0,W=0;y?(E=P(I),I+=E,W=v(I)):(W=v(I),I+=W,E=P(I));let T=E+W,_=d>0?parseFloat((T/d*100).toFixed(1)):0;return{palletArrangement:[{unitId:n.units[0].id,unitLength:n.units[0].length,unitWidth:n.units[0].width,pallets:N}],loadedIndustrialPalletsBase:b.floor,loadedEuroPalletsBase:f.floor,totalDinPalletsVisual:b.total,totalEuroPalletsVisual:f.total,utilizationPercentage:_,warnings:Array.from(new Set(g)),totalWeightKg:h,eupLoadingPatternUsed:x}},A={euro:{background:"linear-gradient(135deg, hsla(217, 100%, 68%, 0.92), hsla(217, 98%, 56%, 0.98))",borderColor:"hsla(218, 96%, 52%, 0.9)",textColor:"rgba(15, 23, 42, 0.95)",highlightBorder:"hsla(217, 96%, 80%, 0.65)",shadow:"0 16px 32px -22px rgba(37, 99, 235, 0.85)"},industrial:{background:"linear-gradient(135deg, hsla(142, 82%, 64%, 0.88), hsla(142, 84%, 48%, 0.95))",borderColor:"hsla(142, 78%, 42%, 0.88)",textColor:"rgba(15, 23, 42, 0.9)",highlightBorder:"hsla(142, 80%, 76%, 0.55)",shadow:"0 16px 32px -24px rgba(22, 163, 74, 0.75)"}},M=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.35;if(!e||!e.type||!T[e.type])return null;let l=null!==(t=A[e.type])&&void 0!==t?t:A.euro,i=T[e.type],n=e.height*a,r=e.width*a,d=e.y*a,o=e.x*a,c=e.showAsFraction&&e.displayStackedLabelId?"".concat(e.displayBaseLabelId,"/").concat(e.displayStackedLabelId):"".concat(e.labelId);0===e.labelId&&(c="?");let u="".concat(i.name," #").concat(e.labelId);return e.showAsFraction&&(u="".concat(i.name," (Stapel: ").concat(e.displayBaseLabelId,"/").concat(e.displayStackedLabelId,")")),"top"===e.isStackedTier&&(u+=" - Oben"),"base"===e.isStackedTier&&(u+=" - Basis des Stapels"),(0,s.jsxs)("div",{title:u,className:"absolute border flex items-center justify-center rounded-sm",style:{left:"".concat(d,"px"),top:"".concat(o,"px"),width:"".concat(n,"px"),height:"".concat(r,"px"),opacity:"top"===e.isStackedTier?.72:1,zIndex:"top"===e.isStackedTier?10:5,fontSize:"10px",background:l.background,borderColor:l.borderColor,boxShadow:l.shadow,color:l.textColor,filter:"saturate(1.3)"},children:[(0,s.jsx)("span",{className:"font-semibold select-none",style:{color:l.textColor,textShadow:"0 1px 3px rgba(15, 23, 42, 0.45)"},children:c}),"top"===e.isStackedTier&&(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none rounded-sm",style:{borderTop:"1.5px solid ".concat(l.highlightBorder),borderLeft:"1.5px solid ".concat(l.highlightBorder),borderRadius:"0.2rem"}})]},e.key)};function C(e){let{palletArrangement:t,selectedTruck:a,truckConfig:l}=e;return(0,s.jsxs)("div",{className:"lg:col-span-2 bg-gray-100 p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center justify-center","data-selected-truck":a,children:[(0,s.jsx)("p",{className:"text-slate-100 text-lg mb-4 font-semibold drop-shadow",children:"Ladefl\xe4che Visualisierung"}),t.map((e,t)=>(0,s.jsxs)("div",{className:"mb-6 w-full flex flex-col items-center",children:[l.units.length>1&&(0,s.jsxs)("p",{className:"text-sm text-slate-200 mb-2 drop-shadow-sm",children:["Einheit ",t+1," (",e.unitLength/100,"m x ",e.unitWidth/100,"m)"]}),0===t&&(0,s.jsxs)("svg",{"aria-hidden":!0,role:"presentation",className:"block",width:.35*e.unitWidth,height:24,viewBox:"0 0 ".concat(.35*e.unitWidth," 24"),children:[(0,s.jsx)("rect",{x:"0",y:"6",width:.35*e.unitWidth,height:"16",rx:"6",fill:"rgba(59,130,246,0.4)",stroke:"rgba(96,165,250,0.65)"}),(0,s.jsx)("path",{d:"M ".concat(.35*e.unitWidth/2-12," 6 L ").concat(.35*e.unitWidth/2," 0 L ").concat(.35*e.unitWidth/2+12," 6 Z"),fill:"rgba(59,130,246,0.55)"}),(0,s.jsx)("text",{x:.35*e.unitWidth/2,y:20,textAnchor:"middle",fontSize:"10",fontWeight:700,fill:"rgba(15,23,42,0.85)",children:"Front"})]}),(0,s.jsx)("div",{className:"relative overflow-hidden rounded-2xl border border-white/40 shadow-[0_18px_45px_-32px_rgba(15,23,42,0.55)]",style:{width:"".concat(.35*e.unitWidth,"px"),height:"".concat(.35*e.unitLength,"px"),background:"linear-gradient(160deg, rgba(148, 163, 184, 0.25), rgba(226, 232, 240, 0.18))",backdropFilter:"blur(26px)",WebkitBackdropFilter:"blur(26px)"},children:e.pallets.map(e=>M(e,.35))})]},e.unitId)),0===t.length&&(0,s.jsx)("p",{className:"text-slate-200/80",children:"Keine Paletten zum Anzeigen."})]})}var F=a(5555),q=a(2286);let z=()=>({eupWeights:[{id:Date.now(),weight:"",quantity:0,stackable:!1}],dinWeights:[{id:Date.now()+1,weight:"",quantity:0,stackable:!1}]}),R=e=>e.reduce((e,t)=>e+(t.stackable?t.quantity:0),0),K=(0,F.v)()((0,q.lt)((e,t)=>({selectedTruck:"curtainSider",...z(),eupLoadingPattern:"auto",isEUPStackable:!1,isDINStackable:!1,stackingStrategy:"axle_safe",loadedEuroPalletsBase:0,loadedIndustrialPalletsBase:0,totalEuroPalletsVisual:0,totalDinPalletsVisual:0,utilizationPercentage:0,warnings:[],palletArrangement:[],totalWeightKg:0,actualEupLoadingPattern:"auto",remainingCapacity:{eup:0,din:0},lastEdited:"eup",setSelectedTruck:t=>e(()=>{let e={selectedTruck:t};return["Waggon","Waggon2"].includes(t)&&(e.isEUPStackable=!1,e.isDINStackable=!1),e},!1,"setSelectedTruck"),setEupWeights:t=>e({eupWeights:t},!1,"setEupWeights"),setDinWeights:t=>e({dinWeights:t},!1,"setDinWeights"),setEupLoadingPattern:t=>e({eupLoadingPattern:t},!1,"setEupLoadingPattern"),setIsEUPStackable:t=>e({isEUPStackable:t},!1,"setIsEUPStackable"),setIsDINStackable:t=>e({isDINStackable:t},!1,"setIsDINStackable"),setStackingStrategy:t=>e({stackingStrategy:t},!1,"setStackingStrategy"),setLastEdited:t=>e({lastEdited:t},!1,"setLastEdited"),clearAllPallets:()=>e(()=>{let e=z(),a=L[t().selectedTruck].units.map(e=>({unitId:e.id,unitLength:e.length,unitWidth:e.width,pallets:[]}));return{...e,isEUPStackable:!1,isDINStackable:!1,eupLoadingPattern:"auto",lastEdited:"eup",loadedEuroPalletsBase:0,loadedIndustrialPalletsBase:0,totalEuroPalletsVisual:0,totalDinPalletsVisual:0,utilizationPercentage:0,warnings:[],palletArrangement:a,totalWeightKg:0,actualEupLoadingPattern:"auto",remainingCapacity:{eup:0,din:0}}},!1,"clearAllPallets"),maximizePallets:a=>{let s=t(),l="euro"===a?[{id:1,quantity:300,weight:"0",stackable:s.isEUPStackable}]:[],i="industrial"===a?[{id:1,quantity:300,weight:"0",stackable:s.isDINStackable}]:[],n=_(s.selectedTruck,l,i,s.isEUPStackable,s.isDINStackable,"auto","euro"===a?"EUP_FIRST":"DIN_FIRST",R(l),R(i),s.stackingStrategy);"industrial"===a?e(()=>({dinWeights:[{id:Date.now(),weight:"",quantity:n.totalDinPalletsVisual,stackable:s.isDINStackable}],eupWeights:[{id:Date.now()+1,weight:"",quantity:0,stackable:s.isEUPStackable}],lastEdited:"din"}),!1,"maximizePallets"):e(()=>({eupWeights:[{id:Date.now(),weight:"",quantity:n.totalEuroPalletsVisual,stackable:s.isEUPStackable}],dinWeights:[{id:Date.now()+1,weight:"",quantity:0,stackable:s.isDINStackable}],lastEdited:"eup"}),!1,"maximizePallets")},fillRemaining:a=>{let s=t(),l="euro"===a?s.eupWeights[s.eupWeights.length-1]:s.dinWeights[s.dinWeights.length-1],i=(null==l?void 0:l.weight)||"0",n="euro"===a?[...s.eupWeights,{id:-1,quantity:300,weight:i,stackable:s.isEUPStackable}]:[...s.eupWeights],r="industrial"===a?[...s.dinWeights,{id:-1,quantity:300,weight:i,stackable:s.isDINStackable}]:[...s.dinWeights],d=_(s.selectedTruck,n,r,s.isEUPStackable,s.isDINStackable,"auto","euro"===a?"DIN_FIRST":"EUP_FIRST",R(n),R(r),s.stackingStrategy),o=s.eupWeights.reduce((e,t)=>e+t.quantity,0),c=s.dinWeights.reduce((e,t)=>e+t.quantity,0),u=d.totalEuroPalletsVisual-o,h=d.totalDinPalletsVisual-c,g=!1;return e(e=>{let t={lastEdited:"euro"===a?"eup":"din"};if("euro"===a&&u>0&&e.eupWeights.length>0){let a=[...e.eupWeights],s=a.length-1,l={...a[s],quantity:a[s].quantity+u};a[s]=l,t.eupWeights=a,g=!0}else if("industrial"===a&&h>0&&e.dinWeights.length>0){let a=[...e.dinWeights],s=a.length-1,l={...a[s],quantity:a[s].quantity+h};a[s]=l,t.dinWeights=a,g=!0}return t},!1,"fillRemaining"),g},recalculate:()=>{let a=t(),s=a.eupWeights.reduce((e,t)=>e+t.quantity,0),l=a.dinWeights.reduce((e,t)=>e+t.quantity,0),i=R(a.eupWeights),n=R(a.dinWeights),r=_(a.selectedTruck,a.eupWeights,a.dinWeights,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"DIN_FIRST",i,n,a.stackingStrategy),d=[];if(l>0&&0===s){let e=[{id:1,quantity:300,weight:"0",stackable:a.isDINStackable}],t=_(a.selectedTruck,[],e,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"DIN_FIRST",i,R(e),a.stackingStrategy).totalDinPalletsVisual;if(t>0&&l>t){let e=Math.ceil(l/t),a=Math.floor(l/t),s=l%t;0===s?d.push("F\xfcr diesen Auftrag werden ".concat(a," volle LKWs ben\xf6tigt.")):d.push("Ben\xf6tigt ".concat(e," LKWs: ").concat(a," volle LKW(s) und 1 LKW mit ").concat(s," Paletten."))}}else if(s>0&&0===l){let e=[{id:1,quantity:300,weight:"0",stackable:a.isEUPStackable}],t=_(a.selectedTruck,e,[],a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"EUP_FIRST",R(e),n,a.stackingStrategy).totalEuroPalletsVisual;if(t>0&&s>t){let e=Math.ceil(s/t),a=Math.floor(s/t),l=s%t;0===l?d.push("F\xfcr diesen Auftrag werden ".concat(a," volle LKWs ben\xf6tigt.")):d.push("Ben\xf6tigt ".concat(e," LKWs: ").concat(a," volle LKW(s) und 1 LKW mit ").concat(l," Paletten."))}}let o=[{id:-1,quantity:300,weight:a.eupWeights.length>0&&a.eupWeights[a.eupWeights.length-1].weight||"0",stackable:a.isEUPStackable}],c=Math.max(0,_(a.selectedTruck,o,a.dinWeights,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"DIN_FIRST",R(o),n,a.stackingStrategy).totalEuroPalletsVisual-s),u=[{id:-1,quantity:300,weight:a.dinWeights.length>0&&a.dinWeights[a.dinWeights.length-1].weight||"0",stackable:a.isDINStackable}],h=Math.max(0,_(a.selectedTruck,a.eupWeights,u,a.isEUPStackable,a.isDINStackable,a.eupLoadingPattern,"EUP_FIRST",i,R(u),a.stackingStrategy).totalDinPalletsVisual-l);e({palletArrangement:r.palletArrangement,loadedIndustrialPalletsBase:r.loadedIndustrialPalletsBase,loadedEuroPalletsBase:r.loadedEuroPalletsBase,totalDinPalletsVisual:r.totalDinPalletsVisual,totalEuroPalletsVisual:r.totalEuroPalletsVisual,utilizationPercentage:r.utilizationPercentage,warnings:Array.from(new Set([...r.warnings,...d])),totalWeightKg:r.totalWeightKg,actualEupLoadingPattern:r.eupLoadingPatternUsed,remainingCapacity:{eup:c,din:h}},!1,"recalculate")}})));function V(){var e;let{selectedTruck:t,setSelectedTruck:a,eupWeights:i,setEupWeights:n,dinWeights:r,setDinWeights:d,eupLoadingPattern:o,setEupLoadingPattern:c,isEUPStackable:u,setIsEUPStackable:h,isDINStackable:x,setIsDINStackable:m,stackingStrategy:p,setStackingStrategy:b,loadedEuroPalletsBase:f,loadedIndustrialPalletsBase:k,totalEuroPalletsVisual:w,totalDinPalletsVisual:y,warnings:N,palletArrangement:j,totalWeightKg:S,actualEupLoadingPattern:P,remainingCapacity:v,lastEdited:E,setLastEdited:T,clearAllPallets:U,maximizePallets:_,fillRemaining:A,recalculate:M}=K(),{toast:F}=g(),q=["Waggon","Waggon2"].includes(t),z=L[t],R=null!==(e=z.maxGrossWeightKg)&&void 0!==e?e:24e3;(0,l.useEffect)(()=>{M()},[t,i,r,u,x,o,p,M]);let V={DIN:{color:"hsl(142, 78%, 38%)",textShadow:"0 1px 3px rgba(15, 23, 42, 0.4)"},EUP:{color:"hsl(217, 96%, 52%)",textShadow:"0 1px 3px rgba(15, 23, 42, 0.35)"}},B=N.filter(e=>!e.toLowerCase().includes("platz")&&!e.toLowerCase().includes("ben\xf6tigt")),G={bg:"bg-gray-50",border:"border-gray-200",header:"text-gray-800",list:"text-gray-700"};return 0===B.length&&(y>0||w>0)?G={bg:"bg-green-50",border:"border-green-200",header:"text-green-800",list:"text-green-700"}:B.some(e=>e.toLowerCase().includes("konnte nicht"))?G={bg:"bg-red-50",border:"border-red-200",header:"text-red-800",list:"text-red-700"}:B.length>0&&(G={bg:"bg-yellow-50",border:"border-yellow-200",header:"text-yellow-800",list:"text-yellow-700"}),(0,s.jsxs)("div",{className:"container mx-auto p-4 font-sans space-y-6",children:[(0,s.jsxs)("header",{className:"relative bg-gradient-to-r from-blue-700 to-blue-900 p-5 rounded-t-lg shadow-lg mb-6 text-slate-100",children:[(0,s.jsxs)("div",{className:"absolute top-2 right-4 text-right text-xs text-slate-100/80 drop-shadow",children:[(0,s.jsxs)("p",{children:["Laderaumrechner \xa9 ",new Date().getFullYear()]}),(0,s.jsx)("p",{children:"by Andreas Steiner"})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-center tracking-tight drop-shadow-sm",children:"Laderaumrechner"}),(0,s.jsx)("p",{className:"text-center text-sm text-slate-100/90 drop-shadow",children:"Visualisierung der Palettenplatzierung (Europ\xe4ische Standards)"})]}),(0,s.jsxs)("main",{className:"p-6 bg-white shadow-lg rounded-b-lg",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6 bg-slate-50 p-5 rounded-lg border border-slate-200 shadow-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"truckType",className:"block text-sm font-semibold text-slate-800 mb-1 drop-shadow-sm",children:"LKW-Typ:"}),(0,s.jsx)("select",{id:"truckType",value:t,onChange:e=>{a(e.target.value)},className:"mt-1 block w-full py-2 px-3 text-sm font-medium focus:outline-none focus:ring-0 focus-visible:ring-0",children:Object.keys(L).map(e=>(0,s.jsx)("option",{value:e,children:L[e].name},e))})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)("button",{onClick:U,className:"w-full py-2.5 px-4 font-semibold tracking-wide text-emerald-950/90 rounded-2xl",children:"Alles zur\xfccksetzen"})}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 drop-shadow-sm",children:"Industriepaletten (DIN)"}),(0,s.jsx)(W,{entries:r,onChange:e=>{T("din"),d(e)},palletType:"DIN",stackableEnabled:x}),(0,s.jsx)("button",{onClick:()=>_("industrial"),className:"mt-2 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Max. DIN"}),(0,s.jsx)("button",{onClick:()=>{A("industrial"),F({title:"LKW aufgef\xfcllt",description:"Freier Platz wurde mit INDUSTRIAL Paletten gef\xfcllt."})},className:"mt-1 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Rest mit max. DIN f\xfcllen"}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"dinStackable",checked:x,onChange:e=>m(e.target.checked),disabled:q,className:"h-5 w-5 disabled:cursor-not-allowed"}),(0,s.jsx)("label",{htmlFor:"dinStackable",className:"ml-2 text-sm text-slate-800 ".concat(q?"text-slate-400":""),children:"Stapelbar (2-fach)"})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 drop-shadow-sm",children:"Europaletten (EUP)"}),(0,s.jsx)(W,{entries:i,onChange:e=>{T("eup"),n(e)},palletType:"EUP",stackableEnabled:u}),(0,s.jsx)("button",{onClick:()=>_("euro"),className:"mt-2 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Max. EUP"}),(0,s.jsx)("button",{onClick:()=>{A("euro"),F({title:"LKW aufgef\xfcllt",description:"Freier Platz wurde mit EURO Paletten gef\xfcllt."})},className:"mt-1 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Rest mit max. EUP f\xfcllen"}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"eupStackable",checked:u,onChange:e=>h(e.target.checked),disabled:q,className:"h-5 w-5 disabled:cursor-not-allowed"}),(0,s.jsx)("label",{htmlFor:"eupStackable",className:"ml-2 text-sm text-slate-800 ".concat(q?"text-slate-400":""),children:"Stapelbar (2-fach)"})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-1 drop-shadow-sm",children:"Stacking-Modus"}),(0,s.jsx)("p",{className:"text-xs text-slate-600 mb-2",children:"Steuert, ob gestapelte Paletten bevorzugt in der Achszone bleiben oder maximal ausgenutzt werden."}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)("label",{className:"flex items-start text-sm text-slate-800",children:[(0,s.jsx)("input",{type:"radio",name:"stackingStrategy",value:"axle_safe",checked:"axle_safe"===p,onChange:e=>b(e.target.value),className:"h-5 w-5 mt-0.5"}),(0,s.jsx)("span",{className:"ml-2",children:"Achslast-optimiert (Stacks starten in der Mitte, Bodenpl\xe4tze bleiben frei)"})]}),(0,s.jsxs)("label",{className:"flex items-start text-sm text-slate-800",children:[(0,s.jsx)("input",{type:"radio",name:"stackingStrategy",value:"max_pairs",checked:"max_pairs"===p,onChange:e=>b(e.target.value),className:"h-5 w-5 mt-0.5"}),(0,s.jsx)("span",{className:"ml-2",children:"Maximale Stapelanzahl (klassische Variante, stapelt so fr\xfch wie m\xf6glich)"})]})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:["EUP Lade-Pattern:",(0,s.jsxs)("span",{className:"text-xs text-slate-600",children:[" (Gew\xe4hlt: ","none"===P?"Keines":P,")"]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"auto",checked:"auto"===o,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"Auto-Optimieren"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"long",checked:"long"===o,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"L\xe4ngs (3 nebeneinander)"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"broad",checked:"broad"===o,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"Quer (2 nebeneinander)"})]})]})]})]}),(0,s.jsx)(C,{palletArrangement:j,selectedTruck:t,truckConfig:z})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 shadow-sm text-center",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Geladene Paletten (Visuell)"}),(0,s.jsxs)("p",{className:"text-slate-900/85",children:["Industrie (DIN): ",(0,s.jsx)("span",{className:"font-bold text-lg text-slate-900",children:y})]}),(0,s.jsxs)("p",{className:"text-slate-900/85",children:["Euro (EUP): ",(0,s.jsx)("span",{className:"font-bold text-lg text-slate-900",children:w})]}),(0,s.jsxs)("p",{className:"text-xs mt-1 text-slate-900/70",children:["(Basis: ",k," DIN, ",f," EUP)"]})]}),(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 shadow-sm text-center",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Verbleibende Kapazit\xe4t"}),(()=>{let e="din"===E?"DIN":"EUP",t="din"===E?"EUP":"DIN",a="din"===E?v.din:v.eup,l="din"===E?v.eup:v.din,i=V[e],n=V[t];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-bold text-2xl text-slate-900/90 drop-shadow-sm",children:"Platz f\xfcr:"}),(0,s.jsxs)("p",{className:"font-bold text-2xl text-slate-900/90 space-x-1",children:[(0,s.jsx)("span",{style:i,children:a}),(0,s.jsx)("span",{className:"text-slate-900/80",children:"weitere"}),(0,s.jsx)("span",{style:i,children:e}),(0,s.jsx)("span",{className:"text-slate-900/80",children:1===a?"Palette":"Paletten"})]}),(0,s.jsx)("p",{className:"text-slate-900/80",children:"oder"}),(0,s.jsxs)("p",{className:"font-bold text-xl text-slate-900/85 space-x-1",children:[(0,s.jsx)("span",{style:n,children:l}),(0,s.jsx)("span",{className:"text-slate-900/70",children:"weitere"}),(0,s.jsx)("span",{style:n,children:t}),(0,s.jsx)("span",{className:"text-slate-900/70",children:1===l?"Palette":"Paletten"})]})]})})()]}),(0,s.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 shadow-sm text-center",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Gesch\xe4tztes Gewicht"}),(0,s.jsxs)("p",{className:"font-bold text-2xl text-slate-900/90",children:[D.format(S)," kg"]}),(0,s.jsxs)("p",{className:"text-xs mt-1 text-slate-900/70",children:["(Max: ",D.format(R)," kg)"]})]}),(0,s.jsxs)("div",{className:"".concat(G.bg," p-4 rounded-lg border ").concat(G.border," shadow-sm"),children:[(0,s.jsx)("h3",{className:"font-semibold mb-2 ".concat(G.header," drop-shadow-sm"),children:"Meldungen"}),N.length>0?(0,s.jsx)("ul",{className:"list-disc list-inside text-sm space-y-1 ".concat(G.list),children:N.map((e,t)=>(0,s.jsx)("li",{children:e},t))}):(0,s.jsx)("p",{className:"text-sm ".concat(G.list),children:"Keine Probleme erkannt."})]})]})]}),(0,s.jsx)("footer",{className:"text-center py-4 mt-8 text-sm text-slate-100/80 border-t border-gray-200",children:(0,s.jsxs)("p",{className:"drop-shadow",children:["Laderaumrechner \xa9 ",new Date().getFullYear()," by Andreas Steiner"]})}),(0,s.jsx)(I,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[757,685,411,358],()=>t(6053)),_N_E=e.O()}]);