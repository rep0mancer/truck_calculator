(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6053:(e,t,a)=>{Promise.resolve().then(a.bind(a,5234))},5234:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(2860),s=a(3200);let i=0,n=new Map,r=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function u(e){c=o(c,e),d.forEach(e=>{e(c)})}function h(e){let{...t}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||l()}}}),{id:a,dismiss:l,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function g(){let[e,t]=s.useState(c);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:h,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}var x=a(4964),p=a(1073),m=a(2906),b=a(9769),f=a(2460);function w(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.QP)((0,b.$)(t))}let y=x.Kq,N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.LM,{ref:t,className:w("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...s})});N.displayName=x.LM.displayName;let v=(0,p.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),j=s.forwardRef((e,t)=>{let{className:a,variant:s,...i}=e;return(0,l.jsx)(x.bL,{ref:t,className:w(v({variant:s}),a),...i})});j.displayName=x.bL.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.rc,{ref:t,className:w("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...s})}).displayName=x.rc.displayName;let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.bm,{ref:t,className:w("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...s,children:(0,l.jsx)(m.A,{className:"h-4 w-4"})})});k.displayName=x.bm.displayName;let S=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.hE,{ref:t,className:w("text-sm font-semibold [&+div]:text-xs",a),...s})});S.displayName=x.hE.displayName;let I=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(x.VY,{ref:t,className:w("text-sm opacity-90",a),...s})});function P(){let{toasts:e}=g();return(0,l.jsxs)(y,{children:[e.map(function(e){let{id:t,title:a,description:s,action:i,...n}=e;return(0,l.jsxs)(j,{...n,children:[(0,l.jsxs)("div",{className:"grid gap-1",children:[a&&(0,l.jsx)(S,{children:a}),s&&(0,l.jsx)(I,{children:s})]}),i,(0,l.jsx)(k,{})]},t)}),(0,l.jsx)(N,{})]})}I.displayName=x.VY.displayName;let L=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,l.jsx)("input",{type:s,className:w("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});function E(e){let{entries:t,onChange:a,palletType:s,preferredId:i,onSetPreferred:n}=e,r=e=>{e===i&&n(null),a(t.filter(t=>t.id!==e))},o=(e,l,s)=>{a(t.map(t=>{if(t.id===e){let a="quantity"===l?parseInt(s,10)||0:t.quantity,r="weight"===l?s:t.weight;return 0===a&&e===i&&n(null),{...t,quantity:a,weight:r}}return t}))};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("label",{className:"w-20 text-center text-xs font-semibold text-slate-600",children:"Anzahl"}),(0,l.jsxs)("label",{className:"w-32 text-center text-xs font-semibold text-slate-600",children:["Gewicht/",s," (kg)"]})]}),t.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-2 rounded-2xl border border-white/30 bg-white/10 px-3 py-2 backdrop-blur-xl shadow-[0_18px_36px_-28px_rgba(15,23,42,0.45)]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none",onClick:()=>o(e.id,"quantity",String(Math.max(0,e.quantity-1))),"aria-label":"Menge reduzieren",children:"âˆ’"}),(0,l.jsx)(L,{type:"number",min:"0",value:e.quantity,onChange:t=>o(e.id,"quantity",t.target.value),placeholder:"Anzahl",className:"w-16 text-center font-semibold"}),(0,l.jsx)("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none",onClick:()=>o(e.id,"quantity",String(e.quantity+1)),"aria-label":"Menge erh\xf6hen",children:"+"})]}),(0,l.jsx)(L,{type:"number",min:"0",value:e.weight,onChange:t=>o(e.id,"weight",t.target.value),placeholder:"Gewicht/".concat(s),className:"w-32 text-center font-semibold"}),t.length>1&&(0,l.jsx)("button",{type:"button",onClick:()=>r(e.id),className:"h-8 w-8 flex items-center justify-center rounded-full text-base font-semibold leading-none","aria-label":"Gruppe entfernen",children:"\xd7"})]},e.id)),(0,l.jsx)("button",{onClick:()=>{a([...t,{id:Date.now(),weight:"",quantity:0}])},className:"mt-3 w-full py-2 text-sm font-semibold tracking-wide rounded-2xl",children:"Gewichtsgruppe hinzuf\xfcgen"})]})}L.displayName="Input";let T={roadTrain:{name:"H\xe4ngerzug (2x 7,2m)",units:[{id:"unit1",length:720,width:245,occupiedRects:[]},{id:"unit2",length:720,width:245,occupiedRects:[]}],totalLength:1440,usableLength:1440,maxWidth:245,maxGrossWeightKg:24e3},curtainSider:{name:"Planensattel Standard (13.2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:24e3},frigo:{name:"Frigo (K\xfchler) Standard (13.2m)",units:[{id:"main",length:1320,width:245,occupiedRects:[]}],totalLength:1320,usableLength:1320,maxWidth:245,maxGrossWeightKg:18300},smallTruck:{name:"Motorwagen (7.2m)",units:[{id:"main",length:720,width:245,occupiedRects:[]}],totalLength:720,usableLength:720,maxWidth:245,maxGrossWeightKg:1e4},Waggon:{name:"Waggon POE",units:[{id:"main",length:1370,width:290,occupiedRects:[]}],totalLength:1370,usableLength:1370,maxWidth:290,maxDinPallets:26,maxGrossWeightKg:24e3},Waggon2:{name:"Waggon KRM",units:[{id:"main",length:1600,width:290,occupiedRects:[]}],totalLength:1600,usableLength:1600,maxWidth:290,maxDinPallets:28,maxGrossWeightKg:24e3}},W={euro:{name:"Euro Palette (1.2m x 0.8m)",type:"euro",length:120,width:80,area:9600,color:"bg-blue-500",borderColor:"border-blue-700",weightKg:0},industrial:{name:"Industrial Palette (1.2m x 1.0m)",type:"industrial",length:120,width:100,area:12e3,color:"bg-green-500",borderColor:"border-green-700",weightKg:0}},D=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),A=(e,t)=>{var a,l,s;let i=(e||[]).flatMap(e=>Array.from({length:e.quantity},()=>({weight:parseFloat(e.weight)||0}))),n=i.length,r=[],o=0,d=[];n>38&&d.push("Die maximale Kapazit\xe4t des Waggons von ".concat(38," EUP wurde \xfcberschritten. ").concat(n-38," Palette(n) konnten nicht geladen werden."));let c=Math.min(n,38),u=0;for(let e=0;e<11&&u<c;e++)r.push({x:120*e,y:0,width:120,height:80,type:"euro",key:"eup_waggon_".concat(u),labelId:u+1}),o+=(null===(a=i[u])||void 0===a?void 0:a.weight)||0,u++;for(let e=0;e<11&&u<c;e++)r.push({x:120*e,y:80,width:120,height:80,type:"euro",key:"eup_waggon_".concat(u),labelId:u+1}),o+=(null===(l=i[u])||void 0===l?void 0:l.weight)||0,u++;for(let e=0;e<16&&u<c;e++)r.push({x:80*e,y:160,width:80,height:120,type:"euro",key:"eup_waggon_".concat(u),labelId:u+1}),o+=(null===(s=i[u])||void 0===s?void 0:s.weight)||0,u++;let h=[{unitId:t.units[0].id,unitLength:t.units[0].length,unitWidth:t.units[0].width,pallets:r}],g=9600*u,x=t.usableLength*t.maxWidth;return{palletArrangement:h,loadedIndustrialPalletsBase:0,loadedEuroPalletsBase:u,totalDinPalletsVisual:0,totalEuroPalletsVisual:u,utilizationPercentage:parseFloat((x>0?g/x*100:0).toFixed(1)),warnings:d,totalWeightKg:o,eupLoadingPatternUsed:"custom"}},C=function(e,t,a,l,s,i){var n,r,o,d,c,u;let h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DIN_FIRST",g=arguments.length>7?arguments[7]:void 0,x=arguments.length>8?arguments[8]:void 0,p=JSON.parse(JSON.stringify(T[e])),m=["Waggon","Waggon2"].includes(e),b=a.every(e=>0===e.quantity),f=t.some(e=>e.quantity>0);if(m&&b&&f){let e=A(t,p);return l&&e.warnings.push("Info: Stapeln ist auf dem Waggon nicht m\xf6glich und wurde deaktiviert."),e}let w=null!==(n=p.maxGrossWeightKg)&&void 0!==n?n:24e3,y=null!==(o=null!==(r=p.usableLength)&&void 0!==r?r:p.totalLength)&&void 0!==o?o:1320,N=1,v=(e,t)=>{let a=[];for(let l of e){let e=Math.max(0,Number(l.quantity)||0),s=parseFloat(l.weight)||0;for(let i=0;i<e;i++)a.push({type:t,weight:s,isStacked:!1,id:N++,sourceId:l.id})}return a},j=v(t,"euro"),k=v(a,"industrial"),S=j.length,I=k.length,P=1,L=(e,t,a,l)=>{let s=[];if(!t)return{pairs:s,remaining:[...e]};let i=("string"==typeof a?parseInt(a,10):a)||0,n=Math.floor((i>0?Math.min(i,e.length):e.length)/2),r=[...e];for(let e=0;e<n;e++){let e=r.shift(),t=r.shift();if(!e||!t)break;let a="grp_".concat(l,"_").concat(P++);e.isStacked=!0,e.stackGroupId=a,t.isStacked=!0,t.stackGroupId=a,s.push({type:l,weight:(e.weight||0)+(t.weight||0),isStacked:!0,id:N++,pair:[e,t],stackGroupId:a})}return{pairs:s,remaining:r}},E=L(k,!m&&s,x,"industrial"),D=L(j,!m&&l,g,"euro"),C=E.pairs,_=D.pairs,F=E.remaining,M=D.remaining,q=[],R=0,G=0,K=0,V=0,U="number"==typeof p.maxDinPallets?p.maxDinPallets:void 0,z=0,B=[];m&&(s||l)&&B.push("Info: Stapeln ist auf dem Waggon nicht m\xf6glich und wurde deaktiviert.");let O=e=>"euro"===e?40:50,H=(e,t,a)=>{let l=O(e),s=R+l,i=G+(t||0);return!(s>y)&&(w>0&&i>w?(B.some(e=>e.includes("Gewichtslimit"))||B.push("Gewichtslimit erreicht."),!1):("industrial"!==e||"number"!=typeof U||!(z+1>U))&&(q.push(...a),R=s,G=i,"industrial"===e?(z+=1,K+=1):V+=1,!0))},Y={stopped:!1},J=(e,t)=>{for(let a of e){if(Y.stopped)break;let e=a.pair;if(!H(t,a.weight||e.reduce((e,t)=>e+(t.weight||0),0),e)){Y.stopped=!0;break}}},Q=(e,t)=>{for(let a of e){if(Y.stopped)break;if(!H(t,a.weight||0,[a])){Y.stopped=!0;break}}};"DIN_FIRST"===h?(J(C,"industrial"),Y.stopped||Q(F,"industrial"),Y.stopped||J(_,"euro"),Y.stopped||Q(M,"euro")):(J(_,"euro"),Y.stopped||Q(M,"euro"),Y.stopped||J(C,"industrial"),Y.stopped||Q(F,"industrial"));let X=q.filter(e=>"industrial"===e.type).length,Z=q.filter(e=>"euro"===e.type).length,$=Math.max(0,I-X),ee=Math.max(0,S-Z),et=[];$>0&&et.push("".concat($," DIN")),ee>0&&et.push("".concat(ee," EUP")),et.length>0&&B.push("Konnte nicht alle Paletten laden. \xdcbrig: ".concat(et.join(" und "),".")),"number"==typeof U&&I>U&&300!==I&&B.push("".concat(p.name.trim()," maximale DIN-Kapazit\xe4t ist ").concat(U,". Angeforderte Menge ").concat(I,", es werden ").concat(Math.min(U,z)," platziert."));let ea=e=>e.isStacked&&"industrial"===e.type?1:e.isStacked&&"euro"===e.type?2:e.isStacked||"industrial"!==e.type?e.isStacked||"euro"!==e.type?5:4:3;q.sort((e,t)=>{let a=ea(e),l=ea(t);return a!==l?a-l:e.stackGroupId&&t.stackGroupId?String(e.stackGroupId).localeCompare(String(t.stackGroupId)):0});let el={STEER:8e3,DRIVE:11500,BOGIE:24e3,SAFETY:.97},es=e=>Math.max(0,Math.min(1,e));function ei(e){let t=6500,a=4500,l=3e3;for(let s of e){let e=.35-.22999999999999998*es(s.xCenter/s.unitLen),i=s.kg*e;t+=.30000000000000004*i,a+=.7*i,l+=s.kg*(1-e)}return{steer:t,drive:a,bogie:l}}for(let e=0;e<q.length;e++){let t=q[e];if(t.weight=Number(t.weight)||0,t.isStacked&&e+1<q.length){let a=q[e+1];a&&(a.weight=Number(a.weight)||t.weight)}}let en=p.units.map(e=>({...e,palletsVisual:[]})),er=[...q],eo=0,ed=0,ec=0,eu=0,eh=0;for(let e of en){if(0===er.length)break;let t={x:0,y:0,rowHeight:0},a={x:e.length,y:0,rowHeight:0},l=i,s=0;for(;s<er.length;){let n,r;let o=er[s],{type:h,isStacked:g}=o;if(0===t.y&&"euro"===h&&"auto"===i){let a=e.length-t.x,i=0,n=s;for(;n<er.length&&"euro"===er[n].type;)er[n].isStacked?(i++,n+=2):(i++,n++);if(i>=3&&a>=W.euro.length)l="long";else if(i>=2&&a>=W.euro.width)l="broad";else if(i>=1&&a>=W.euro.width)l="broad";else break}let x="euro"===h?W.euro:W.industrial;"euro"===h?(n="long"===l?x.length:x.width,r="long"===l?x.width:x.length):(n=x.width,r=x.length);let p=g?"rear":"front";if("front"===p&&g&&t.x<120&&(p="rear"),g&&500>=(Number(o.weight)||0)&&500>=(Number(null===(d=er[s+1])||void 0===d?void 0:d.weight)||0)){let l=t.x+n/2,i=e.length-a.x-n+n/2,r=(Number(o.weight)||0)+(Number(null===(u=er[s+1])||void 0===u?void 0:u.weight)||0),d=e.palletsVisual.map(t=>({kg:Number(t.kg)||0,xCenter:t.x+t.width/2,unitLen:e.length})),c=ei([...d,{kg:r,xCenter:l,unitLen:e.length}]);ei([...d,{kg:r,xCenter:i,unitLen:e.length}]),p=c.steer<=el.STEER*el.SAFETY&&c.drive<=el.DRIVE*el.SAFETY&&c.bogie<=el.BOGIE*el.SAFETY?"front":"rear"}let m="front"===p?t:a;if(m.y+r>e.width){m.x+=m.rowHeight,m.y=0,m.rowHeight=0;continue}if("front"===p&&m.x+n>e.length||"rear"===p&&m.x-n<0||"front"===p&&t.x+n>a.x||"rear"===p&&a.x-n<t.x)break;let b="front"===p?m.x:Math.max(0,m.x-n),f="euro"===h?++ed:++eo,w="euro"===h?eu:ec,y=Number(o.weight)||0,N=g?y+(Number(null===(c=er[s+1])||void 0===c?void 0:c.weight)||0):y,v={x:b,y:m.y,width:n,height:r,type:h,isStackedTier:null,unitId:e.id,labelId:f,displayBaseLabelId:f,displayStackedLabelId:null,showAsFraction:!1,key:"".concat(h,"_").concat(w),kg:N};if(eh+="euro"===h?W.euro.area:W.industrial.area,g){v.isStackedTier="base",v.showAsFraction=!0;let t="euro"===h?++ed:++eo;v.displayStackedLabelId=t,e.palletsVisual.push(v);let a={...v,isStackedTier:"top",labelId:t,key:"".concat(v.key,"_stack")};e.palletsVisual.push(a)}else e.palletsVisual.push(v);"euro"===h?eu++:ec++,m.y+=r,m.rowHeight=Math.max(m.rowHeight,n),"rear"===p&&(a.x=b),s+=g?2:1}er.splice(0,s)}en.flatMap(e=>e.palletsVisual).length;let eg=en.flatMap(e=>e.palletsVisual).filter(e=>"industrial"===e.type).length,ex=en.flatMap(e=>e.palletsVisual).filter(e=>"euro"===e.type).length,ep=en.map(e=>({unitId:e.id,unitLength:e.length,unitWidth:e.width,pallets:e.palletsVisual})),em=(p.usableLength||0)*(p.maxWidth||0),eb=parseFloat((em>0?eh/em*100:0).toFixed(1)),ef=(p.maxWidth||0)>0?eh/(p.maxWidth||1):0;if(ef>0){let e=G/(ef/100);e>=1800&&B.push("ACHTUNG â€“ m\xf6gliche Achslast\xfcberschreitung: ".concat(e.toFixed(1)," kg/m"))}if((p.usableLength||0)>0){let e=ef/(p.usableLength||1)*100;G>=10500&&e<=40&&B.push("ACHTUNG â€“ mehr als 10.5t auf weniger als 40% der Ladefl\xe4che")}let ew=eg-ec,ey=ex-eu;return ew>=16&&B.push("ACHTUNG - ACHSLAST bei DIN im AUGE BEHALTEN! (".concat(ew," gestapelte DIN)")),ey>=18&&B.push("ACHTUNG - ACHSLAST bei EUP im AUGE BEHALTEN! (".concat(ey," gestapelte EUP)")),{palletArrangement:ep,loadedIndustrialPalletsBase:ec,loadedEuroPalletsBase:eu,totalDinPalletsVisual:eg,totalEuroPalletsVisual:ex,utilizationPercentage:eb,warnings:Array.from(new Set(B)),totalWeightKg:G,eupLoadingPatternUsed:"auto"===i?"auto":i||"none"}};function _(){var e;let[t,a]=(0,s.useState)("curtainSider"),[i,n]=(0,s.useState)([{id:Date.now(),weight:"",quantity:0}]),[r,o]=(0,s.useState)([{id:Date.now()+1,weight:"",quantity:0}]),[d,c]=(0,s.useState)("auto"),[u,h]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),[m,b]=(0,s.useState)(0),[f,w]=(0,s.useState)(0),[y,N]=(0,s.useState)(0),[v,j]=(0,s.useState)(0),[k,S]=(0,s.useState)(0),[I,L]=(0,s.useState)(0),[A,_]=(0,s.useState)(0),[F,M]=(0,s.useState)([]),[q,R]=(0,s.useState)([]),[G,K]=(0,s.useState)(0),[V,U]=(0,s.useState)("auto"),[z,B]=(0,s.useState)({eup:0,din:0}),[O,H]=(0,s.useState)("eup"),{toast:Y}=g(),J=["Waggon","Waggon2"].includes(t),Q=null!==(e=T[t].maxGrossWeightKg)&&void 0!==e?e:24e3,X=(0,s.useCallback)(()=>{let e=i.reduce((e,t)=>e+t.quantity,0),a=r.reduce((e,t)=>e+t.quantity,0),l=C(t,i,r,u,x,d,"DIN_FIRST",m,f),s=[];if(a>0&&0===e){let e=C(t,[],[{id:1,quantity:300,weight:"0"}],u,x,d,"DIN_FIRST",m,f).totalDinPalletsVisual;if(e>0&&a>e){let t=Math.ceil(a/e),l=Math.floor(a/e),i=a%e;0===i?s.push("F\xfcr diesen Auftrag werden ".concat(l," volle LKWs ben\xf6tigt.")):s.push("Ben\xf6tigt ".concat(t," LKWs: ").concat(l," volle LKW(s) und 1 LKW mit ").concat(i," Paletten."))}}else if(e>0&&0===a){let a=C(t,[{id:1,quantity:300,weight:"0"}],[],u,x,d,"EUP_FIRST",m,f).totalEuroPalletsVisual;if(a>0&&e>a){let t=Math.ceil(e/a),l=Math.floor(e/a),i=e%a;0===i?s.push("F\xfcr diesen Auftrag werden ".concat(l," volle LKWs ben\xf6tigt.")):s.push("Ben\xf6tigt ".concat(t," LKWs: ").concat(l," volle LKW(s) und 1 LKW mit ").concat(i," Paletten."))}}R(l.palletArrangement),j(l.loadedIndustrialPalletsBase),N(l.loadedEuroPalletsBase),L(l.totalDinPalletsVisual),S(l.totalEuroPalletsVisual),_(l.utilizationPercentage),M(Array.from(new Set([...l.warnings,...s]))),K(l.totalWeightKg),U(l.eupLoadingPatternUsed),T[t].maxGrossWeightKg,l.totalWeightKg,B({eup:Math.max(0,C(t,[{id:-1,quantity:300,weight:i.length>0&&i[i.length-1].weight||"0"}],r,u,x,d,"DIN_FIRST",m,f).totalEuroPalletsVisual-e),din:Math.max(0,C(t,i,[{id:-1,quantity:300,weight:r.length>0&&r[r.length-1].weight||"0"}],u,x,d,"EUP_FIRST",m,f).totalDinPalletsVisual-a)})},[t,i,r,u,x,d,m,f]);(0,s.useEffect)(()=>{X()},[X]);let Z=e=>{let a=C(t,"euro"===e?[{id:1,quantity:300,weight:"0"}]:[],"industrial"===e?[{id:1,quantity:300,weight:"0"}]:[],u,x,"auto","euro"===e?"EUP_FIRST":"DIN_FIRST",m,f);"industrial"===e?(o([{id:Date.now(),weight:"",quantity:a.totalDinPalletsVisual}]),n([{id:Date.now()+1,weight:"",quantity:0}])):"euro"===e&&(n([{id:Date.now(),weight:"",quantity:a.totalEuroPalletsVisual}]),o([{id:Date.now()+1,weight:"",quantity:0}]))},$=e=>{let a="euro"===e?i[i.length-1]:r[r.length-1],l=(null==a?void 0:a.weight)||"0",s=C(t,"euro"===e?[...i,{id:-1,quantity:300,weight:l}]:[...i],"industrial"===e?[...r,{id:-1,quantity:300,weight:l}]:[...r],u,x,"auto","euro"===e?"DIN_FIRST":"EUP_FIRST",m,f),d=i.reduce((e,t)=>e+t.quantity,0),c=r.reduce((e,t)=>e+t.quantity,0),h=s.totalEuroPalletsVisual-d,g=s.totalDinPalletsVisual-c;"euro"===e&&h>0?n(e=>{let t=[...e],a=t.length-1,l={...t[a],quantity:t[a].quantity+h};return t[a]=l,t}):"industrial"===e&&g>0&&o(e=>{let t=[...e],a=t.length-1,l={...t[a],quantity:t[a].quantity+g};return t[a]=l,t}),Y({title:"LKW aufgef\xfcllt",description:"Freier Platz wurde mit ".concat(e.toUpperCase()," Paletten gef\xfcllt.")})},ee={euro:{background:"linear-gradient(135deg, hsla(217, 100%, 68%, 0.92), hsla(217, 98%, 56%, 0.98))",borderColor:"hsla(218, 96%, 52%, 0.9)",textColor:"rgba(15, 23, 42, 0.95)",highlightBorder:"hsla(217, 96%, 80%, 0.65)",shadow:"0 16px 32px -22px rgba(37, 99, 235, 0.85)"},industrial:{background:"linear-gradient(135deg, hsla(142, 82%, 64%, 0.88), hsla(142, 84%, 48%, 0.95))",borderColor:"hsla(142, 78%, 42%, 0.88)",textColor:"rgba(15, 23, 42, 0.9)",highlightBorder:"hsla(142, 80%, 76%, 0.55)",shadow:"0 16px 32px -24px rgba(22, 163, 74, 0.75)"}},et={DIN:{color:"hsl(142, 78%, 38%)",textShadow:"0 1px 3px rgba(15, 23, 42, 0.4)"},EUP:{color:"hsl(217, 96%, 52%)",textShadow:"0 1px 3px rgba(15, 23, 42, 0.35)"}},ea=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;if(!e||!e.type||!W[e.type])return null;let s=null!==(t=ee[e.type])&&void 0!==t?t:ee.euro,i=W[e.type],n=e.height*a,r=e.width*a,o=e.y*a,d=e.x*a,c=e.showAsFraction&&e.displayStackedLabelId?"".concat(e.displayBaseLabelId,"/").concat(e.displayStackedLabelId):"".concat(e.labelId);0===e.labelId&&(c="?");let u="".concat(i.name," #").concat(e.labelId);return e.showAsFraction&&(u="".concat(i.name," (Stapel: ").concat(e.displayBaseLabelId,"/").concat(e.displayStackedLabelId,")")),"top"===e.isStackedTier&&(u+=" - Oben"),"base"===e.isStackedTier&&(u+=" - Basis des Stapels"),(0,l.jsxs)("div",{title:u,className:"absolute border flex items-center justify-center rounded-sm",style:{left:"".concat(o,"px"),top:"".concat(d,"px"),width:"".concat(n,"px"),height:"".concat(r,"px"),opacity:"top"===e.isStackedTier?.72:1,zIndex:"top"===e.isStackedTier?10:5,fontSize:"10px",background:s.background,borderColor:s.borderColor,boxShadow:s.shadow,color:s.textColor,filter:"saturate(1.3)"},children:[(0,l.jsx)("span",{className:"font-semibold select-none",style:{color:s.textColor,textShadow:"0 1px 3px rgba(15, 23, 42, 0.45)"},children:c}),"top"===e.isStackedTier&&(0,l.jsx)("div",{className:"absolute inset-0 pointer-events-none rounded-sm",style:{borderTop:"1.5px solid ".concat(s.highlightBorder),borderLeft:"1.5px solid ".concat(s.highlightBorder),borderRadius:"0.2rem"}})]},e.key)},el=F.filter(e=>!e.toLowerCase().includes("platz")&&!e.toLowerCase().includes("ben\xf6tigt")),es={bg:"bg-gray-50",border:"border-gray-200",header:"text-gray-800",list:"text-gray-700"};return 0===el.length&&(I>0||k>0)?es={bg:"bg-green-50",border:"border-green-200",header:"text-green-800",list:"text-green-700"}:el.some(e=>e.toLowerCase().includes("konnte nicht"))?es={bg:"bg-red-50",border:"border-red-200",header:"text-red-800",list:"text-red-700"}:el.length>0&&(es={bg:"bg-yellow-50",border:"border-yellow-200",header:"text-yellow-800",list:"text-yellow-700"}),(0,l.jsxs)("div",{className:"container mx-auto p-4 font-sans space-y-6",children:[(0,l.jsxs)("header",{className:"relative bg-gradient-to-r from-blue-700 to-blue-900 p-5 rounded-t-lg shadow-lg mb-6 text-slate-100",children:[(0,l.jsxs)("div",{className:"absolute top-2 right-4 text-right text-xs text-slate-100/80 drop-shadow",children:[(0,l.jsxs)("p",{children:["Laderaumrechner \xa9 ",new Date().getFullYear()]}),(0,l.jsx)("p",{children:"by Andreas Steiner"})]}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-center tracking-tight drop-shadow-sm",children:"Laderaumrechner"}),(0,l.jsx)("p",{className:"text-center text-sm text-slate-100/90 drop-shadow",children:"Visualisierung der Palettenplatzierung (Europ\xe4ische Standards)"})]}),(0,l.jsxs)("main",{className:"p-6 bg-white shadow-lg rounded-b-lg",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-1 space-y-6 bg-slate-50 p-5 rounded-lg border border-slate-200 shadow-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"truckType",className:"block text-sm font-semibold text-slate-800 mb-1 drop-shadow-sm",children:"LKW-Typ:"}),(0,l.jsx)("select",{id:"truckType",value:t,onChange:e=>{let t=e.target.value;a(t),["Waggon","Waggon2"].includes(t)&&(h(!1),p(!1))},className:"mt-1 block w-full py-2 px-3 text-sm font-medium focus:outline-none focus:ring-0 focus-visible:ring-0",children:Object.keys(T).map(e=>(0,l.jsx)("option",{value:e,children:T[e].name},e))})]}),(0,l.jsx)("div",{className:"pt-4",children:(0,l.jsx)("button",{onClick:()=>{n([{id:Date.now(),weight:"",quantity:0}]),o([{id:Date.now()+1,weight:"",quantity:0}]),h(!1),p(!1),b(0),w(0),c("auto")},className:"w-full py-2.5 px-4 font-semibold tracking-wide text-emerald-950/90 rounded-2xl",children:"Alles zur\xfccksetzen"})}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 drop-shadow-sm",children:"Industriepaletten (DIN)"}),(0,l.jsx)(E,{entries:r,onChange:e=>{H("din"),o(e)},palletType:"DIN"}),(0,l.jsx)("button",{onClick:()=>Z("industrial"),className:"mt-2 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Max. DIN"}),(0,l.jsx)("button",{onClick:()=>$("industrial"),className:"mt-1 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Rest mit max. DIN f\xfcllen"}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"dinStackable",checked:x,onChange:e=>p(e.target.checked),disabled:J,className:"h-5 w-5 disabled:cursor-not-allowed"}),(0,l.jsx)("label",{htmlFor:"dinStackable",className:"ml-2 text-sm text-slate-800 ".concat(J?"text-slate-400":""),children:"Stapelbar (2-fach)"})]}),x&&!J&&(0,l.jsx)("input",{type:"number",min:"0",value:f,onChange:e=>w(Math.max(0,parseInt(e.target.value,10)||0)),className:"mt-1 block w-full py-1 px-2 sm:text-xs",placeholder:"Stapelbare Paletten (0 = alle)"})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 drop-shadow-sm",children:"Europaletten (EUP)"}),(0,l.jsx)(E,{entries:i,onChange:e=>{H("eup"),n(e)},palletType:"EUP"}),(0,l.jsx)("button",{onClick:()=>Z("euro"),className:"mt-2 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Max. EUP"}),(0,l.jsx)("button",{onClick:()=>$("euro"),className:"mt-1 w-full py-1.5 px-3 text-xs font-semibold tracking-wide rounded-2xl",children:"Rest mit max. EUP f\xfcllen"}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"eupStackable",checked:u,onChange:e=>h(e.target.checked),disabled:J,className:"h-5 w-5 disabled:cursor-not-allowed"}),(0,l.jsx)("label",{htmlFor:"eupStackable",className:"ml-2 text-sm text-slate-800 ".concat(J?"text-slate-400":""),children:"Stapelbar (2-fach)"})]}),u&&!J&&(0,l.jsx)("input",{type:"number",min:"0",value:m,onChange:e=>b(Math.max(0,parseInt(e.target.value,10)||0)),className:"mt-1 block w-full py-1 px-2 sm:text-xs",placeholder:"Stapelbare Paletten (0 = alle)"})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:["EUP Lade-Pattern:",(0,l.jsxs)("span",{className:"text-xs text-slate-600",children:[" (Gew\xe4hlt: ","none"===V?"Keines":V,")"]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"auto",checked:"auto"===d,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"Auto-Optimieren"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"long",checked:"long"===d,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"L\xe4ngs (3 nebeneinander)"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"eupLoadingPattern",value:"broad",checked:"broad"===d,onChange:e=>c(e.target.value),className:"h-5 w-5"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-slate-800",children:"Quer (2 nebeneinander)"})]})]})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-2 bg-gray-100 p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center justify-center",children:[(0,l.jsx)("p",{className:"text-slate-100 text-lg mb-4 font-semibold drop-shadow",children:"Ladefl\xe4che Visualisierung"}),q.map((e,a)=>(0,l.jsxs)("div",{className:"mb-6 w-full flex flex-col items-center",children:[T[t].units.length>1&&(0,l.jsxs)("p",{className:"text-sm text-slate-200 mb-2 drop-shadow-sm",children:["Einheit ",a+1," (",e.unitLength/100,"m x ",e.unitWidth/100,"m)"]}),0===a&&(0,l.jsxs)("svg",{"aria-hidden":!0,role:"presentation",className:"block",width:.35*e.unitWidth,height:24,viewBox:"0 0 ".concat(.35*e.unitWidth," 24"),children:[(0,l.jsx)("rect",{x:"0",y:"6",width:.35*e.unitWidth,height:"16",rx:"6",fill:"rgba(59,130,246,0.4)",stroke:"rgba(96,165,250,0.65)"}),(0,l.jsx)("path",{d:"M ".concat(.35*e.unitWidth/2-12," 6 L ").concat(.35*e.unitWidth/2," 0 L ").concat(.35*e.unitWidth/2+12," 6 Z"),fill:"rgba(59,130,246,0.55)"}),(0,l.jsx)("text",{x:.35*e.unitWidth/2,y:20,textAnchor:"middle",fontSize:"10",fontWeight:700,fill:"rgba(15,23,42,0.85)",children:"Front"})]}),(0,l.jsx)("div",{className:"relative overflow-hidden rounded-2xl border border-white/40 shadow-[0_18px_45px_-32px_rgba(15,23,42,0.55)]",style:{width:"".concat(.35*e.unitWidth,"px"),height:"".concat(.35*e.unitLength,"px"),background:"linear-gradient(160deg, rgba(148, 163, 184, 0.25), rgba(226, 232, 240, 0.18))",backdropFilter:"blur(26px)",WebkitBackdropFilter:"blur(26px)"},children:e.pallets.map(e=>ea(e,.35))})]},e.unitId)),0===q.length&&(0,l.jsx)("p",{className:"text-slate-200/80",children:"Keine Paletten zum Anzeigen."})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 shadow-sm text-center",children:[(0,l.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Geladene Paletten (Visuell)"}),(0,l.jsxs)("p",{className:"text-slate-900/85",children:["Industrie (DIN): ",(0,l.jsx)("span",{className:"font-bold text-lg text-slate-900",children:I})]}),(0,l.jsxs)("p",{className:"text-slate-900/85",children:["Euro (EUP): ",(0,l.jsx)("span",{className:"font-bold text-lg text-slate-900",children:k})]}),(0,l.jsxs)("p",{className:"text-xs mt-1 text-slate-900/70",children:["(Basis: ",v," DIN, ",y," EUP)"]})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 shadow-sm text-center",children:[(0,l.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Verbleibende Kapazit\xe4t"}),(()=>{let e="din"===O?"DIN":"EUP",t="din"===O?"EUP":"DIN",a="din"===O?z.din:z.eup,s="din"===O?z.eup:z.din,i=et[e],n=et[t];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"font-bold text-2xl text-slate-900/90 drop-shadow-sm",children:"Platz f\xfcr:"}),(0,l.jsxs)("p",{className:"font-bold text-2xl text-slate-900/90 space-x-1",children:[(0,l.jsx)("span",{style:i,children:a}),(0,l.jsx)("span",{className:"text-slate-900/80",children:"weitere"}),(0,l.jsx)("span",{style:i,children:e}),(0,l.jsx)("span",{className:"text-slate-900/80",children:1===a?"Palette":"Paletten"})]}),(0,l.jsx)("p",{className:"text-slate-900/80",children:"oder"}),(0,l.jsxs)("p",{className:"font-bold text-xl text-slate-900/85 space-x-1",children:[(0,l.jsx)("span",{style:n,children:s}),(0,l.jsx)("span",{className:"text-slate-900/70",children:"weitere"}),(0,l.jsx)("span",{style:n,children:t}),(0,l.jsx)("span",{className:"text-slate-900/70",children:1===s?"Palette":"Paletten"})]})]})})()]}),(0,l.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 shadow-sm text-center",children:[(0,l.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 drop-shadow-sm",children:"Gesch\xe4tztes Gewicht"}),(0,l.jsxs)("p",{className:"font-bold text-2xl text-slate-900/90",children:[D.format(G)," kg"]}),(0,l.jsxs)("p",{className:"text-xs mt-1 text-slate-900/70",children:["(Max: ",D.format(Q)," kg)"]})]}),(0,l.jsxs)("div",{className:"".concat(es.bg," p-4 rounded-lg border ").concat(es.border," shadow-sm"),children:[(0,l.jsx)("h3",{className:"font-semibold mb-2 ".concat(es.header," drop-shadow-sm"),children:"Meldungen"}),F.length>0?(0,l.jsx)("ul",{className:"list-disc list-inside text-sm space-y-1 ".concat(es.list),children:F.map((e,t)=>(0,l.jsx)("li",{children:e},t))}):(0,l.jsx)("p",{className:"text-sm ".concat(es.list),children:"Keine Probleme erkannt."})]})]})]}),(0,l.jsx)("footer",{className:"text-center py-4 mt-8 text-sm text-slate-100/80 border-t border-gray-200",children:(0,l.jsxs)("p",{className:"drop-shadow",children:["Laderaumrechner \xa9 ",new Date().getFullYear()," by Andreas Steiner"]})}),(0,l.jsx)(P,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[240,685,411,358],()=>t(6053)),_N_E=e.O()}]);